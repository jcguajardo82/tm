
@{ ViewBag.Title = "Orden";
    Layout = "~/Views/Shared/_Layout.cshtml"; }

<style>
    /* Specific mapael css class are below
         * 'mapael' class is added by plugin
        */

    .mapael .map {
        position: relative;
        background-color: #808080;
        margin-bottom: 10px;
    }

    /*    .mapael .mapTooltip {
        position: absolute;
        background-color: #fff;
        moz-opacity: 0.70;
        opacity: 0.70;
        filter: alpha(opacity=70);
        border-radius: 10px;
        padding: 10px;
        z-index: 1000;
        max-width: 200px;
        display: none;
        color: #343434;
    }*/

    /* For all zoom buttons */
    .mapael .zoomButton {
        background-color: #fff;
        border: 1px solid #ccc;
        color: #000;
        width: 15px;
        height: 15px;
        line-height: 15px;
        text-align: center;
        border-radius: 3px;
        cursor: pointer;
        position: absolute;
        top: 0;
        font-weight: bold;
        left: 10px;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -o-user-select: none;
        user-select: none;
    }

    /* Reset Zoom button first */
    .mapael .zoomReset {
        top: 10px;
    }

    /* Then Zoom In button */
    .mapael .zoomIn {
        top: 30px;
    }

    /* Then Zoom Out button */
    .mapael .zoomOut {
        top: 50px;
    }

    .mapael .mapTooltip {
        position: absolute;
        background-color: #474c4b;
        moz-opacity: 0.70;
        opacity: 0.70;
        filter: alpha(opacity=70);
        border-radius: 10px;
        padding: 10px;
        z-index: 1000;
        max-width: 200px;
        display: none;
        color: #fff;
    }

    .steps .step.completed .step-icon {
        border-color: #B6BF00;
        background-color: #B6BF00;
        color: #fff;
    }


    .bg-dark {
        background-color: #D52B1E;
    }

    .custom-control-input:checked ~ .custom-control-label::before {
        color: #fff;
        border-color: #B6BF00;
        background-color: #B6BF00;
    }

    a {
        color: #B6BF00;
        text-decoration: none;
        background-color: transparent;
    }

    .btn-outline-primary {
        color: #B6BF00;
        border-color: #B6BF00;
    }

    #legend-container {
        left: 50px;
        background-color: #fff;
        padding: 2px;
        border-radius: 3px 3px 3px 3px;
        border: 1px solid #E6E6E6;
        /*display: inline-block;
        margin: 0 auto;*/
    }
    #legend-container2 {
        left: 50px;
        background-color: #fff;
        padding: 2px;
        border-radius: 3px 3px 3px 3px;
        border: 1px solid #E6E6E6;
    }
    #legend-container3 {
        left: 50px;
        background-color: #fff;
        padding: 2px;
        border-radius: 3px 3px 3px 3px;
        border: 1px solid #E6E6E6;
    }
    #legend-container4 {
        left: 50px;
        background-color: #fff;
        padding: 2px;
        border-radius: 3px 3px 3px 3px;
        border: 1px solid #E6E6E6;
    }

    .demo-container {
        box-sizing: border-box;
        width: 85px;
        height: 85px;
        padding: 2px 1px 1px 1px;
        margin: 1px auto 3px auto;
        border: 1px solid #ddd;
        background: #fff;
        background: linear-gradient(#f6f6f6 0, #fff 50px);
        background: -o-linear-gradient(#f6f6f6 0, #fff 50px);
        background: -ms-linear-gradient(#f6f6f6 0, #fff 50px);
        background: -moz-linear-gradient(#f6f6f6 0, #fff 50px);
        background: -webkit-linear-gradient(#f6f6f6 0, #fff 50px);
        box-shadow: 0 3px 10px rgba(0,0,0,0.15);
        -o-box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        -ms-box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        -moz-box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        -webkit-box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    }

    .demo-placeholder {
        padding-left:30px;
    }

</style>

@*<link href="~/Content/DeliveryLineTime.css" rel="stylesheet" />*@
<div id="divIndicadores">
    @{
        Html.RenderAction("IndicadoresOp", new { FecIni = DateTime.Now.AddDays(-15), FecFin = DateTime.Now });
    }
</div>
<div class="row" id="divEnviosGenVsEst">
    <div class="col-lg-12">
        <div class="ibox ">
            <div class="ibox-title">
                <h5>Envios Generados vs. Estatus</h5>
            </div>
            <div class="ibox-title">
                <div class="ibox-tools">
                    <div class="btn-group">
                        <button type="button" id="btnEst1" class="btn btn-xs btn-white" onclick="Grafica('1',1)">Hoy</button>
                        <button type="button" id="btnEst2" class="btn btn-xs btn-white" onclick="Grafica('2',1)">Mensual</button>
                        <button type="button" id="btnEst3" class="btn btn-xs btn-white" onclick="Grafica('3',1)">Anual</button>
                        <div class="input-group date" id="datetimepicker3">
                            <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                            <input class="form-control datepicker" id="txtFecEstIni"
                                   type="text" placeholder="Fecha Inicio" value="@ViewBag.FecIni">
                        </div>
                        <div class="input-group date" id="datetimepicker4">
                            <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                            <input class="form-control datepicker" id="txtFecEstFin"
                                   type="text" placeholder="Fecha Fin" value="@ViewBag.FecFin">
                        </div>
                        <select id="ddlTransEst" class="form-control" multiple size="6">
                            @foreach (var item in ViewBag.DashboardTrans)
                            {
                                if (item.Selected)
                                {
                                    <option value="@item.Value" selected>@item.Text</option>
 }
                                else
                                {
                                    <option value="@item.Value">@item.Text</option>
}
                            }
                        </select>
                        <select id="ddlTipoEnvioEst" class="form-control" multiple size="6">
                            @foreach (var item in ViewBag.DashboardTipoEnvio)
                            {
                                if (item.Selected)
                                {
                                    <option value="@item.Value" selected>@item.Text</option>
 }
                                else
                                {
                                    <option value="@item.Value">@item.Text</option>
}
                            }
                        </select>
                        <select id="ddlTipoServicioEst" class="form-control" multiple size="6">
                            @foreach (var item in ViewBag.DashboardTipoServicio)
                            {
                                if (item.Selected)
                                {
                                    <option value="@item.Value" selected>@item.Text</option>
 }
                                else
                                {
                                    <option value="@item.Value">@item.Text</option>
}
                            }
                        </select>
                        <select id="ddlTipoLogisticaEst" class="form-control" multiple size="6">

                            @foreach (var item in ViewBag.DashboardTipoLogistica)
                            {
                                if (item.Selected)
                                {
                                    <option value="@item.Value" selected>@item.Text</option>
 }
                                else
                                {
                                    <option value="@item.Value">@item.Text</option>
}
                            }
                        </select>
                        <select id="ddlTipoFecha" class="form-control">
                            <option value="0">--TODO TIPO DE FECHA--</option>
                            <option value="1">fecha creacion</option>
                            <option value="2">fecha recoleccion</option>
                            <option value="3">fecha entrega</option>
                        </select>
                        <select id="ddlEstatus" class="form-control">
                            <option value="3">AMBOS ESTATUS</option>
                            <option value="1">EN TRANSITO</option>
                            <option value="2">ENTREGADO</option>
                        </select>
                        <select class="form-control" id="lstIdAlmacen" name="lstIdAlmacen" multiple size="6">
                            @foreach (var item in ViewBag.DashboardTipoAlmacen)
                            {
                                if (item.Selected)
                                {
                                    <option value="@item.Value" selected>@item.Text</option>
 }
                                else
                                {
                                    <option value="@item.Value">@item.Text</option>
}
                            }

                        </select>
                        <select class="form-control m-b" id="ddlSuppliers" name="ddlSuppliers" multiple size="6">
                            @foreach (var item in ViewBag.DashboardAlmacen)
                            {
                                if (item.Selected)
                                {
                                    <option value="@item.Value" selected>@item.Text</option>
 }
                                else
                                {
                                    <option value="@item.Value">@item.Text</option>
}
                            }

                        </select><br />
                        <button type="button" id="btnEst4" name="indicadores" class="btn btn-sm btn-white" onclick="Grafica('4',1)">Aplicar filtros</button>
                    </div>
                </div>
            </div>
            <div class="ibox-content">

                <div class="row" style="padding-top:50px;">
                    <div class="col-lg-12">
                        <div class="flot-chart">
                            <div class="flot-chart-content" id="flot-dashboard-chart" style="padding: 0px; position: relative;">
                                <canvas class="flot-base" style="direction: ltr; position: absolute; left: 0px; top: 0px; width: 1154.7px; height: 200px;" width="1154" height="200"></canvas>
                                <div class="flot-text" style="position: absolute; inset: 0px; font-size: smaller; color: rgb(84, 84, 84);">
                                    <div class="flot-x-axis flot-x1-axis xAxis x1Axis" style="position: absolute; inset: 0px;">
                                        <div class="flot-tick-label tickLabel" style="position: absolute; max-width: 98px; top: 184px; left: 88px; text-align: center;">Jan 03</div>
                                        <div class="flot-tick-label tickLabel" style="position: absolute; max-width: 98px; top: 184px; left: 196px; text-align: center;">Jan 06</div>
                                        <div class="flot-tick-label tickLabel" style="position: absolute; max-width: 98px; top: 184px; left: 304px; text-align: center;">Jan 09</div>
                                        <div class="flot-tick-label tickLabel" style="position: absolute; max-width: 98px; top: 184px; left: 412px; text-align: center;">Jan 12</div>
                                        <div class="flot-tick-label tickLabel" style="position: absolute; max-width: 98px; top: 184px; left: 520px; text-align: center;">Jan 15</div>
                                        <div class="flot-tick-label tickLabel" style="position: absolute; max-width: 98px; top: 184px; left: 628px; text-align: center;">Jan 18</div>
                                        <div class="flot-tick-label tickLabel" style="position: absolute; max-width: 98px; top: 184px; left: 736px; text-align: center;">Jan 21</div>
                                        <div class="flot-tick-label tickLabel" style="position: absolute; max-width: 98px; top: 184px; left: 844px; text-align: center;">Jan 24</div>
                                        <div class="flot-tick-label tickLabel" style="position: absolute; max-width: 98px; top: 184px; left: 953px; text-align: center;">Jan 27</div>
                                        <div class="flot-tick-label tickLabel" style="position: absolute; max-width: 98px; top: 184px; left: 1061px; text-align: center;">Jan 30</div>
                                        <div class="flot-tick-label tickLabel" style="position: absolute; max-width: 98px; top: 184px; left: 1061px; text-align: center;">Jan 31</div>
                                    </div>
                                    <div class="flot-y-axis flot-y1-axis yAxis y1Axis" style="position: absolute; inset: 0px;">
                                        <div class="flot-tick-label tickLabel" style="position: absolute; top: 171px; left: 19px; text-align: right;">0</div>
                                        <div class="flot-tick-label tickLabel" style="position: absolute; top: 131px; left: 6px; text-align: right;">250</div>
                                        <div class="flot-tick-label tickLabel" style="position: absolute; top: 91px; left: 6px; text-align: right;">500</div>
                                        <div class="flot-tick-label tickLabel" style="position: absolute; top: 51px; left: 6px; text-align: right;">750</div>
                                        <div class="flot-tick-label tickLabel" style="position: absolute; top: 11px; left: 0px; text-align: right;">1000</div>
                                        <div class="flot-tick-label tickLabel" style="position: absolute; top: 11px; left: 0px; text-align: right;">2000</div>
                                    </div>
                                    <div class="flot-y-axis flot-y2-axis yAxis y2Axis" style="position: absolute; inset: 0px;">
                                        <div class="flot-tick-label tickLabel" style="position: absolute; top: 171px; left: 1142px;">0</div>
                                        <div class="flot-tick-label tickLabel" style="position: absolute; top: 143px; left: 1142px;">5</div>
                                        <div class="flot-tick-label tickLabel" style="position: absolute; top: 114px; left: 1142px;">10</div>
                                        <div class="flot-tick-label tickLabel" style="position: absolute; top: 86px; left: 1142px;">15</div>
                                        <div class="flot-tick-label tickLabel" style="position: absolute; top: 57px; left: 1142px;">20</div>
                                        <div class="flot-tick-label tickLabel" style="position: absolute; top: 29px; left: 1142px;">25</div>
                                        <div class="flot-tick-label tickLabel" style="position: absolute; top: 0px; left: 1142px;">30</div>
                                        <div class="flot-tick-label tickLabel" style="position: absolute; top: 0px; left: 1142px;">31</div>
                                    </div>
                                </div>
                                <canvas class="flot-overlay" width="1154" height="200" style="direction: ltr; position: absolute; left: 0px; top: 0px; width: 1154.7px; height: 200px;"></canvas>
                                <div class="legend">
                                    <div style="position: absolute; width: 113.6px; height: 35.2px; top: 13px; left: 35px; background-color: rgb(255, 255, 255); opacity: 0.85;"> </div>
                                    <table style="position:absolute;top:13px;left:35px;;font-size:smaller;color:#545454">
                                        <tbody>
                                            <tr>
                                                <td class="legendColorBox">
                                                    <div style="border:1px solid #000000;padding:1px">
                                                        <div style="width:4px;height:0;border:5px solid #1ab394;overflow:hidden"></div>
                                                    </div>
                                                </td>
                                                <td class="legendLabel">Number of orders  jk</td>
                                            </tr>
                                            <tr><td class="legendColorBox"><div style="border:1px solid #000000;padding:1px"><div style="width:4px;height:0;border:5px solid #1C84C6;overflow:hidden"></div></div></td><td class="legendLabel">Paymenlklkts</td></tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

        </div>
    </div>
</div>
<div class="row" id="divEnviosTipoLog">
    <div class="col-lg-12">

        <div class="row">
            <div class="col-lg-12">
                <div class="ibox ">
                    <div class="ibox-title">
                        <h5>Envios por tipo de logistica</h5>
                    </div>
                    <div class="ibox-title">
                        <div class="ibox-tools">
                            <div class="btn-group">
                                <button type="button" id="btnMapa1" class="btn btn-xs btn-white" onclick="Mapa('1',1)">Hoy</button>
                                <button type="button" id="btnMapa2" class="btn btn-xs btn-white" onclick="Mapa('2',1)">Mensual</button>
                                <button type="button" id="btnMapa3" class="btn btn-xs btn-white" onclick="Mapa('3',1)">Anual</button>
                                <div class="input-group date" id="datetimepicker5">
                                    <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                    <input class="form-control datepicker" id="txtFecMapaIni"
                                           type="text" placeholder="Fecha Inicio" value="@ViewBag.FecIni">
                                </div>
                                <div class="input-group date" id="datetimepicker6">
                                    <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                    <input class="form-control datepicker" id="txtFecMapaFin"
                                           type="text" placeholder="Fecha Fin" value="@ViewBag.FecFin">
                                </div>
                                <select id="ddlTransMapa" class="form-control" multiple size="6">
                                    @foreach (var item in ViewBag.DashboardTrans)
                                    {
                                        if (item.Selected)
                                        {
                                            <option value="@item.Value" selected>@item.Text</option>
 }
                                        else
                                        {
                                            <option value="@item.Value">@item.Text</option>
}
                                    }
                                </select>
                                <select id="ddlTipoEnvioMapa" class="form-control" multiple size="6">
                                    @foreach (var item in ViewBag.DashboardTipoEnvio)
                                    {
                                        if (item.Selected)
                                        {
                                            <option value="@item.Value" selected>@item.Text</option>
 }
                                        else
                                        {
                                            <option value="@item.Value">@item.Text</option>
}
                                    }
                                </select>
                                <select id="ddlTipoServicioMapa" class="form-control" multiple size="6">
                                    @foreach (var item in ViewBag.DashboardTipoServicio)
                                    {
                                        if (item.Selected)
                                        {
                                            <option value="@item.Value" selected>@item.Text</option>
 }
                                        else
                                        {
                                            <option value="@item.Value">@item.Text</option>
}
                                    }
                                </select>
                                <select id="ddlEstatusMapa" class="form-control">
                                    <option value="3">AMBOS ESTATUS</option>
                                    <option value="1">EN TRANSITO</option>
                                    <option value="2">ENTREGADO</option>
                                </select>
                                <select class="form-control" id="lstIdAlmacenMapa" name="lstIdAlmacenMapa" multiple size="6">
                                    @foreach (var item in ViewBag.DashboardTipoAlmacen)
                                    {
                                        if (item.Selected)
                                        {
                                            <option value="@item.Value" selected>@item.Text</option>
 }
                                        else
                                        {
                                            <option value="@item.Value">@item.Text</option>
}
                                    }

                                </select>
                                <select class="form-control m-b" id="ddlSuppliersMapa" name="ddlSuppliersMapa" multiple size="6">
                                    @foreach (var item in ViewBag.DashboardAlmacen)
                                    {
                                        if (item.Selected)
                                        {
                                            <option value="@item.Value" selected>@item.Text</option>
 }
                                        else
                                        {
                                            <option value="@item.Value">@item.Text</option>
}
                                    }

                                </select><br />
                                <button type="button" id="btnMapa4" name="indicadores" class="btn btn-sm btn-white" onclick="Mapa('4',1)">Aplicar filtros</button>
                            </div>
                        </div>
                    </div>
                    <div class="ibox-content">
                        <div class="row" style="padding-top:50px;">
                            <div class="col-lg-6">
                                <table class="table table-hover margin bottom" id="tblEnvioLogistica">
                                    <thead>
                                        <tr>
                                            <th style="width: 1%" class="text-center">No.</th>
                                            <th>Logística</th>
                                            <th class="text-center">Part %</th>
                                            <th class="text-center">Cantidad de Envios</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @*<tr>
                                                <td class="text-center">1</td>
                                                <td>
                                                    Security doors
                                                </td>
                                                <td class="text-center small">16 Jun 2014</td>
                                                <td class="text-center"><span class="label label-primary">$483.00</span></td>

                                            </tr>
                                            <tr>
                                                <td class="text-center">2</td>
                                                <td>
                                                    Wardrobes
                                                </td>
                                                <td class="text-center small">10 Jun 2014</td>
                                                <td class="text-center"><span class="label label-primary">$327.00</span></td>

                                            </tr>
                                            <tr>
                                                <td class="text-center">3</td>
                                                <td>
                                                    Set of tools
                                                </td>
                                                <td class="text-center small">12 Jun 2014</td>
                                                <td class="text-center"><span class="label label-warning">$125.00</span></td>

                                            </tr>
                                            <tr>
                                                <td class="text-center">4</td>
                                                <td> Panoramic pictures</td>
                                                <td class="text-center small">22 Jun 2013</td>
                                                <td class="text-center"><span class="label label-primary">$344.00</span></td>
                                            </tr>
                                            <tr>
                                                <td class="text-center">5</td>
                                                <td>Phones</td>
                                                <td class="text-center small">24 Jun 2013</td>
                                                <td class="text-center"><span class="label label-primary">$235.00</span></td>
                                            </tr>
                                            <tr>
                                                <td class="text-center">6</td>
                                                <td>Monitors</td>
                                                <td class="text-center small">26 Jun 2013</td>
                                                <td class="text-center"><span class="label label-primary">$100.00</span></td>
                                            </tr>*@
                                    </tbody>
                                </table>
                            </div>
                            <div class="col-lg-6">
                                <div class="mapcontainer">
                                    <div class="map">
                                    </div>
                                </div>
                                <div class="plotLegend">
                                    <span>Alternative content for the legend</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="row" id="divEnviosEstDes">
    <div class="col-lg-12">
        <div class="row">
            <div class="col-lg-12">
                <div class="ibox ">
                    <div class="ibox-title">
                        <h5>Envios por Estado Destino/Tipo de envio</h5>
                    </div>
                    <div class="ibox-title">

                        <div class="ibox-tools">
                            <div class="btn-group">
                                <button type="button" id="btnEstDes1" class="btn btn-xs btn-white" onclick="EstDes('1',1)">Hoy</button>
                                <button type="button" id="btnEstDes2" class="btn btn-xs btn-white" onclick="EstDes('2',1)">Mensual</button>
                                <button type="button" id="btnEstDes3" class="btn btn-xs btn-white" onclick="EstDes('3',1)">Anual</button>
                                <div class="input-group date" id="datetimepickerEstDes">
                                    <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                    <input class="form-control datepicker" id="txtFecEstDesIni"
                                           type="text" placeholder="Fecha Inicio" value="@ViewBag.FecIni">
                                </div>
                                <div class="input-group date" id="datetimepicker2EstDes">
                                    <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                    <input class="form-control datepicker" id="txtFecEstDesFin"
                                           type="text" placeholder="Fecha Fin" value="@ViewBag.FecFin">
                                </div>
                                <select id="ddlTransEstDes" class="form-control" multiple size="6">
                                    @foreach (var item in ViewBag.DashboardTrans)
                                    {
                                        if (item.Selected)
                                        {
                                            <option value="@item.Value" selected>@item.Text</option>
 }
                                        else
                                        {
                                            <option value="@item.Value">@item.Text</option>
}
                                    }
                                </select>
                                @*<select id="ddlTipoEnvioEstDes" class="form-control" multiple size="6">
                                        @foreach (var item in ViewBag.DashboardTipoEnvio)
                                        {
                                            if (item.Selected)
                                            {
                                                <option value="@item.Value" selected>@item.Text</option>
                                            }
                                            else
                                            {
                                                <option value="@item.Value">@item.Text</option>
                                            }
                                        }
                                    </select>*@
                                <select id="ddlTipoServicioEstDes" class="form-ddlTipoServicioEstDes" multiple size="6">
                                    @foreach (var item in ViewBag.DashboardTipoServicio)
                                    {
                                        if (item.Selected)
                                        {
                                            <option value="@item.Value" selected>@item.Text</option>
 }
                                        else
                                        {
                                            <option value="@item.Value">@item.Text</option>
}
                                    }
                                </select>
                                @*<select id="ddlTipoLogisticaMapa" class="form-control" multiple size="6">

                                        @foreach (var item in ViewBag.DashboardTipoLogistica)
                                        {
                                            if (item.Selected)
                                            {
                                                <option value="@item.Value" selected>@item.Text</option>
                                            }
                                            else
                                            {
                                                <option value="@item.Value">@item.Text</option>
                                            }
                                        }
                                    </select>*@
                                <select id="ddlEstatusEstDes" class="form-control">
                                    <option value="3">AMBOS ESTATUS</option>
                                    <option value="1">EN TRANSITO</option>
                                    <option value="2">ENTREGADO</option>
                                </select>
                                <select class="form-control" id="lstIdAlmacenEstDes" name="lstIdAlmacenEstDes" multiple size="6">
                                    @foreach (var item in ViewBag.DashboardTipoAlmacen)
                                    {
                                        if (item.Selected)
                                        {
                                            <option value="@item.Value" selected>@item.Text</option>
 }
                                        else
                                        {
                                            <option value="@item.Value">@item.Text</option>
}
                                    }

                                </select>
                                <select class="form-control m-b" id="ddlSuppliersEstDes" name="ddlSuppliersEstDes" multiple size="6">
                                    @foreach (var item in ViewBag.DashboardAlmacen)
                                    {
                                        if (item.Selected)
                                        {
                                            <option value="@item.Value" selected>@item.Text</option>
 }
                                        else
                                        {
                                            <option value="@item.Value">@item.Text</option>
}
                                    }

                                </select><br />
                                <button type="button" id="btnEstDes4" name="btnEstDes4" class="btn btn-sm btn-white" onclick="EstDes('4',1)">Aplicar filtros</button>
                            </div>
                        </div>
                    </div>
                    <div class="ibox-content">

                        <div class="row" style="padding-top:50px;">
                            <div class="col-lg-3">
                                <table class="table table-hover margin bottom" id="tblEnvioPaqueteria">
                                    <thead>
                                        <tr>
                                            <th colspan="4" style="text-align:center">
                                                Paquetería
                                            </th>
                                        </tr>
                                        <tr>
                                            <th style="width: 1%" class="text-center">No.</th>
                                            <th>Estado</th>
                                            <th class="text-center">Part %</th>
                                            <th class="text-center">Cantidad de Envios</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                    </tbody>
                                </table>
                            </div>
                            <div class="col-lg-3">
                                <table class="table table-hover margin bottom" id="tblEnvioBig">
                                    <thead>
                                        <tr>
                                            <th colspan="4" style="text-align:center">
                                                Big Ticket
                                            </th>
                                        </tr>
                                        <tr>
                                            <th style="width: 1%" class="text-center">No.</th>
                                            <th>Estado</th>
                                            <th class="text-center">Part %</th>
                                            <th class="text-center">Cantidad de Envios</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                    </tbody>
                                </table>
                            </div>
                            <div class="col-lg-6">
                                <div class="mapcontainer-paq">
                                    <div class="map">
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="row" id="divEnviosCumplEntrega">
    <div class="col-lg-12">

        <div class="row">
            <div class="col-lg-12">
                <div class="ibox ">
                    <div class="ibox-title">
                        <h5>Cumplimiento de Entrega</h5>
                    </div>
                    <div class="ibox-title">
                        <div class="ibox-tools">
                            <div class="btn-group">
                                <button type="button" id="btnCumplEntrega1" class="btn btn-xs btn-white" onclick="GraficaCumplimientoEntrega(1)">Hoy</button>
                                <button type="button" id="btnCumplEntrega2" class="btn btn-xs btn-white" onclick="GraficaCumplimientoEntrega(2)">Mensual</button>
                                <button type="button" id="btnCumplEntrega3" class="btn btn-xs btn-white" onclick="GraficaCumplimientoEntrega(3)">Anual</button>
                                <div class="input-group date" id="datetimepickerCumplEntrega">
                                    <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                    <input class="form-control datepicker" id="txtFecCumplEntregaIni"
                                           type="text" placeholder="Fecha Inicio" value="@ViewBag.FecIni">
                                </div>
                                <div class="input-group date" id="datetimepicker2CumplEntrega">
                                    <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                    <input class="form-control datepicker" id="txtFecCumplEntregaFin"
                                           type="text" placeholder="Fecha Fin" value="@ViewBag.FecFin">
                                </div>
                                <select id="ddlTransCumplEntrega" class="form-control" multiple size="6">
                                    @foreach (var item in ViewBag.DashboardTrans)
                                    {
                                        if (item.Selected)
                                        {
                                            <option value="@item.Value" selected>@item.Text</option>
 }
                                        else
                                        {
                                            <option value="@item.Value">@item.Text</option>
}
                                    }
                                </select>
                                <select id="ddlTipoEnvioCumplEntrega" class="form-control" multiple size="6">
                                    @foreach (var item in ViewBag.DashboardTipoEnvio)
                                    {
                                        if (item.Selected)
                                        {
                                            <option value="@item.Value" selected>@item.Text</option>
 }
                                        else
                                        {
                                            <option value="@item.Value">@item.Text</option>
}
                                    }
                                </select>
                                <select id="ddlTipoServicioCumplEntrega" class="form-ddlTipoServicioEstDes" multiple size="6">
                                    @foreach (var item in ViewBag.DashboardTipoServicio)
                                    {
                                        if (item.Selected)
                                        {
                                            <option value="@item.Value" selected>@item.Text</option>
 }
                                        else
                                        {
                                            <option value="@item.Value">@item.Text</option>
}
                                    }
                                </select>
                                <select id="ddlTipoLogisticaCumplEntrega" class="form-control" multiple size="6">

                                    @foreach (var item in ViewBag.DashboardTipoLogistica)
                                    {
                                        if (item.Selected)
                                        {
                                            <option value="@item.Value" selected>@item.Text</option>
 }
                                        else
                                        {
                                            <option value="@item.Value">@item.Text</option>
}
                                    }
                                </select>
                                <select id="ddlTipoFechaCumplEntrega" class="form-control">
                                    <option value="1">fecha creacion</option>
                                    <option value="2">fecha entrega</option>
                                </select>
                                <select id="ddlTipoPagoCumplEntrega" class="form-control">
                                    <option value="3">AMBOS</option>
                                    <option value="1">EN LINEA</option>
                                    <option value="2">EN TIENDA</option>
                                </select>
                                <select class="form-control" id="lstIdAlmacenCumplEntrega" name="lstIdAlmacenCumplEntrega" multiple size="6">
                                    @foreach (var item in ViewBag.DashboardTipoAlmacen)
                                    {
                                        if (item.Selected)
                                        {
                                            <option value="@item.Value" selected>@item.Text</option>
 }
                                        else
                                        {
                                            <option value="@item.Value">@item.Text</option>
}
                                    }

                                </select>
                                <select class="form-control m-b" id="ddlSuppliersCumplEntrega" name="ddlSuppliersCumplEntrega" multiple size="6">
                                    @foreach (var item in ViewBag.DashboardAlmacen)
                                    {
                                        if (item.Selected)
                                        {
                                            <option value="@item.Value" selected>@item.Text</option>
 }
                                        else
                                        {
                                            <option value="@item.Value">@item.Text</option>
}
                                    }

                                </select><br />
                                <button type="button" id="btnCumplEntrega4" name="btnCumplEntrega4" class="btn btn-sm btn-white" onclick="GraficaCumplimientoEntrega(4)">Aplicar filtros</button>
                            </div>
                        </div>
                    </div>
                    <div class="ibox-content">
                        <div class="row" style="padding-top:50px;">
                            <div id="placeholder" class="demo-placeholder"></div>
                            <div id="legend-container"></div>
                            <div class="col-lg-12">
                                <div class="flot-chart">
                                    <div class="flot-chart-content" id="flot-Chart-Line"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="row" id="divEnviosCumplCliente">
    <div class="col-lg-12">

        <div class="row">
            <div class="col-lg-12">
                <div class="ibox ">
                    <div class="ibox-title">
                        <h5>Cumplimiento de Entrega al Cliente </h5>
                    </div>
                    <div class="ibox-title">
                        <div class="ibox-tools">
                            <div class="btn-group">
                                <button type="button" id="btnCumplCliente1" class="btn btn-xs btn-white" onclick="GraficaCumplCliente(1)">Hoy</button>
                                <button type="button" id="btnCumplCliente2" class="btn btn-xs btn-white" onclick="GraficaCumplCliente(2)">Mensual</button>
                                <button type="button" id="btnCumplCliente3" class="btn btn-xs btn-white" onclick="GraficaCumplCliente(3)">Anual</button>
                                <div class="input-group date" id="datetimepickerCumplCliente">
                                    <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                    <input class="form-control datepicker" id="txtFecCumplClienteIni"
                                           type="text" placeholder="Fecha Inicio" value="@ViewBag.FecIni">
                                </div>
                                <div class="input-group date" id="datetimepicker2CumplCliente">
                                    <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                    <input class="form-control datepicker" id="txtFecCumplClienteFin"
                                           type="text" placeholder="Fecha Fin" value="@ViewBag.FecFin">
                                </div>
                                <select id="ddlTransCumplCliente" class="form-control" multiple size="6">
                                    @foreach (var item in ViewBag.DashboardTrans)
                                    {
                                        if (item.Selected)
                                        {
                                            <option value="@item.Value" selected>@item.Text</option>
                                        }
                                        else
                                        {
                                            <option value="@item.Value">@item.Text</option>
                                        }
                                    }
                                </select>
                                <select id="ddlTipoEnvioCumplCliente" class="form-control" multiple size="6">
                                    @foreach (var item in ViewBag.DashboardTipoEnvio)
                                    {
                                        if (item.Selected)
                                        {
                                            <option value="@item.Value" selected>@item.Text</option>
                                        }
                                        else
                                        {
                                            <option value="@item.Value">@item.Text</option>
                                        }
                                    }
                                </select>
                                <select id="ddlTipoServicioCumplCliente" class="form-ddlTipoServicioEstDes" multiple size="6">
                                    @foreach (var item in ViewBag.DashboardTipoServicio)
                                    {
                                        if (item.Selected)
                                        {
                                            <option value="@item.Value" selected>@item.Text</option>
                                        }
                                        else
                                        {
                                            <option value="@item.Value">@item.Text</option>
                                        }
                                    }
                                </select>
                                <select id="ddlTipoLogisticaCumplCliente" class="form-control" multiple size="6">

                                    @foreach (var item in ViewBag.DashboardTipoLogistica)
                                    {
                                        if (item.Selected)
                                        {
                                            <option value="@item.Value" selected>@item.Text</option>
                                        }
                                        else
                                        {
                                            <option value="@item.Value">@item.Text</option>
                                        }
                                    }
                                </select>
                                <select id="ddlTipoFechaCumplCliente" class="form-control">
                                    <option value="1">fecha creacion</option>
                                    <option value="2">fecha entrega</option>
                                </select>
                                <select id="ddlTipoPagoCumplCliente" class="form-control">
                                    <option value="3">AMBOS</option>
                                    <option value="1">EN LINEA</option>
                                    <option value="2">EN TIENDA</option>
                                </select>
                                <select class="form-control" id="lstIdAlmacenCumplCliente" name="lstIdAlmacenCumplCliente" multiple size="6">
                                    @foreach (var item in ViewBag.DashboardTipoAlmacen)
                                    {
                                        if (item.Selected)
                                        {
                                            <option value="@item.Value" selected>@item.Text</option>
                                        }
                                        else
                                        {
                                            <option value="@item.Value">@item.Text</option>
                                        }
                                    }

                                </select>
                                <select class="form-control m-b" id="ddlSuppliersCumplCliente" name="ddlSuppliersCumplCliente" multiple size="6">
                                    @foreach (var item in ViewBag.DashboardAlmacen)
                                    {
                                        if (item.Selected)
                                        {
                                            <option value="@item.Value" selected>@item.Text</option>
                                        }
                                        else
                                        {
                                            <option value="@item.Value">@item.Text</option>
                                        }
                                    }

                                </select><br />
                                <button type="button" id="btnCumplCliente4" name="btnCumplCliente4" class="btn btn-sm btn-white" onclick="GraficaCumplCliente(4)">Aplicar filtros</button>
                            </div>
                        </div>
                    </div>
                    <div class="ibox-content">
                        <div class="row" style="padding-top:50px;">
                            <div id="placeholder2" class="demo-placeholder"></div>
                            <div id="legend-container2"></div>
                            <div class="col-lg-12">
                                <div class="flot-chart">
                                    <div class="flot-chart-content" id="flot-Chart-CumplCliente"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="row" id="divEnviosCumplSurtido">
    <div class="col-lg-12">

        <div class="row">
            <div class="col-lg-12">
                <div class="ibox ">
                    <div class="ibox-title">
                        <h5>Cumplimiento del Transporte</h5>
                    </div>
                    <div class="ibox-title">
                        <div class="ibox-tools">
                            <div class="btn-group">
                                <button type="button" id="btnCumplSurtido1" class="btn btn-xs btn-white" onclick="GraficaCumplSurtido(1)">Hoy</button>
                                <button type="button" id="btnCumplSurtido2" class="btn btn-xs btn-white" onclick="GraficaCumplSurtido(2)">Mensual</button>
                                <button type="button" id="btnCumplSurtido3" class="btn btn-xs btn-white" onclick="GraficaCumplSurtido(3)">Anual</button>
                                <div class="input-group date" id="datetimepickerCumplSurtido">
                                    <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                    <input class="form-control datepicker" id="txtFecCumplSurtidoIni"
                                           type="text" placeholder="Fecha Inicio" value="@ViewBag.FecIni">
                                </div>
                                <div class="input-group date" id="datetimepicker2CumplSurtido">
                                    <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                    <input class="form-control datepicker" id="txtFecCumplSurtidoFin"
                                           type="text" placeholder="Fecha Fin" value="@ViewBag.FecFin">
                                </div>
                                <select id="ddlTransCumplSurtido" class="form-control" multiple size="6">
                                    @foreach (var item in ViewBag.DashboardTrans)
                                    {
                                        if (item.Selected)
                                        {
                                            <option value="@item.Value" selected>@item.Text</option>
                                        }
                                        else
                                        {
                                            <option value="@item.Value">@item.Text</option>
                                        }
                                    }
                                </select>
                                <select id="ddlTipoEnvioCumplSurtido" class="form-control" multiple size="6">
                                    @foreach (var item in ViewBag.DashboardTipoEnvio)
                                    {
                                        if (item.Selected)
                                        {
                                            <option value="@item.Value" selected>@item.Text</option>
                                        }
                                        else
                                        {
                                            <option value="@item.Value">@item.Text</option>
                                        }
                                    }
                                </select>
                                <select id="ddlTipoServicioCumplSurtido" class="form-ddlTipoServicioEstDes" multiple size="6">
                                    @foreach (var item in ViewBag.DashboardTipoServicio)
                                    {
                                        if (item.Selected)
                                        {
                                            <option value="@item.Value" selected>@item.Text</option>
                                        }
                                        else
                                        {
                                            <option value="@item.Value">@item.Text</option>
                                        }
                                    }
                                </select>
                                <select id="ddlTipoLogisticaCumplSurtido" class="form-control" multiple size="6">

                                    @foreach (var item in ViewBag.DashboardTipoLogistica)
                                    {
                                        if (item.Selected)
                                        {
                                            <option value="@item.Value" selected>@item.Text</option>
                                        }
                                        else
                                        {
                                            <option value="@item.Value">@item.Text</option>
                                        }
                                    }
                                </select>
                                <select id="ddlTipoFechaCumplSurtido" class="form-control">
                                    <option value="1">fecha creacion</option>
                                    <option value="2">fecha entrega</option>
                                </select>
                                <select id="ddlTipoPagoCumplSurtido" class="form-control">
                                    <option value="3">AMBOS</option>
                                    <option value="1">EN LINEA</option>
                                    <option value="2">EN TIENDA</option>
                                </select>
                                <select class="form-control" id="lstIdAlmacenCumplSurtido" name="lstIdAlmacenCumplSurtido" multiple size="6">
                                    @foreach (var item in ViewBag.DashboardTipoAlmacen)
                                    {
                                        if (item.Selected)
                                        {
                                            <option value="@item.Value" selected>@item.Text</option>
                                        }
                                        else
                                        {
                                            <option value="@item.Value">@item.Text</option>
                                        }
                                    }

                                </select>
                                <select class="form-control m-b" id="ddlSuppliersCumplSurtido" name="ddlSuppliersCumplSurtido" multiple size="6">
                                    @foreach (var item in ViewBag.DashboardAlmacen)
                                    {
                                        if (item.Selected)
                                        {
                                            <option value="@item.Value" selected>@item.Text</option>
                                        }
                                        else
                                        {
                                            <option value="@item.Value">@item.Text</option>
                                        }
                                    }

                                </select><br />
                                <button type="button" id="btnCumplSurtido4" name="btnCumplSurtido4" class="btn btn-sm btn-white" onclick="GraficaCumplSurtido(4)">Aplicar filtros</button>
                            </div>
                        </div>
                    </div>
                    <div class="ibox-content">
                        <div class="row" style="padding-top:50px;">
                            <div id="placeholder3" class="demo-placeholder"></div>
                            <div id="legend-container3"></div>
                            <div class="col-lg-12">
                                <div class="flot-chart">
                                    <div class="flot-chart-content" id="flot-Chart-CumplSurtido"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="row" id="divEnviosCumplTransporte">
    <div class="col-lg-12">

        <div class="row">
            <div class="col-lg-12">
                <div class="ibox ">
                    <div class="ibox-title">
                        <h5>Cumplimiento de Surtido</h5>
                    </div>
                    <div class="ibox-title">
                        <div class="ibox-tools">
                            <div class="btn-group">
                                <button type="button" id="btnCumplTransporte1" class="btn btn-xs btn-white" onclick="GraficaCumplTransporte(1)">Hoy</button>
                                <button type="button" id="btnCumplTransporte2" class="btn btn-xs btn-white" onclick="GraficaCumplTransporte(2)">Mensual</button>
                                <button type="button" id="btnCumplTransporte3" class="btn btn-xs btn-white" onclick="GraficaCumplTransporte(3)">Anual</button>
                                <div class="input-group date" id="datetimepickerCumplTransporte">
                                    <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                    <input class="form-control datepicker" id="txtFecCumplTransporteIni"
                                           type="text" placeholder="Fecha Inicio" value="@ViewBag.FecIni">
                                </div>
                                <div class="input-group date" id="datetimepicker2CumplTransporte">
                                    <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                    <input class="form-control datepicker" id="txtFecCumplTransporteFin"
                                           type="text" placeholder="Fecha Fin" value="@ViewBag.FecFin">
                                </div>
                                <select id="ddlTransCumplTransporte" class="form-control" multiple size="6">
                                    @foreach (var item in ViewBag.DashboardTrans)
                                    {
                                        if (item.Selected)
                                        {
                                            <option value="@item.Value" selected>@item.Text</option>
                                        }
                                        else
                                        {
                                            <option value="@item.Value">@item.Text</option>
                                        }
                                    }
                                </select>
                                <select id="ddlTipoEnvioCumplTransporte" class="form-control" multiple size="6">
                                    @foreach (var item in ViewBag.DashboardTipoEnvio)
                                    {
                                        if (item.Selected)
                                        {
                                            <option value="@item.Value" selected>@item.Text</option>
                                        }
                                        else
                                        {
                                            <option value="@item.Value">@item.Text</option>
                                        }
                                    }
                                </select>
                                <select id="ddlTipoServicioCumplTransporte" class="form-ddlTipoServicioEstDes" multiple size="6">
                                    @foreach (var item in ViewBag.DashboardTipoServicio)
                                    {
                                        if (item.Selected)
                                        {
                                            <option value="@item.Value" selected>@item.Text</option>
                                        }
                                        else
                                        {
                                            <option value="@item.Value">@item.Text</option>
                                        }
                                    }
                                </select>
                                <select id="ddlTipoLogisticaCumplTransporte" class="form-control" multiple size="6">

                                    @foreach (var item in ViewBag.DashboardTipoLogistica)
                                    {
                                        if (item.Selected)
                                        {
                                            <option value="@item.Value" selected>@item.Text</option>
                                        }
                                        else
                                        {
                                            <option value="@item.Value">@item.Text</option>
                                        }
                                    }
                                </select>
                                <select id="ddlTipoFechaCumplTransporte" class="form-control">
                                    <option value="1">fecha creacion</option>
                                    <option value="2">fecha entrega</option>
                                </select>
                                <select id="ddlTipoPagoCumplTransporte" class="form-control">
                                    <option value="3">AMBOS</option>
                                    <option value="1">EN LINEA</option>
                                    <option value="2">EN TIENDA</option>
                                </select>
                                <select class="form-control" id="lstIdAlmacenCumplTransporte" name="lstIdAlmacenCumplTransporte" multiple size="6">
                                    @foreach (var item in ViewBag.DashboardTipoAlmacen)
                                    {
                                        if (item.Selected)
                                        {
                                            <option value="@item.Value" selected>@item.Text</option>
                                        }
                                        else
                                        {
                                            <option value="@item.Value">@item.Text</option>
                                        }
                                    }

                                </select>
                                <select class="form-control m-b" id="ddlSuppliersCumplTransporte" name="ddlSuppliersCumplTransporte" multiple size="6">
                                    @foreach (var item in ViewBag.DashboardAlmacen)
                                    {
                                        if (item.Selected)
                                        {
                                            <option value="@item.Value" selected>@item.Text</option>
                                        }
                                        else
                                        {
                                            <option value="@item.Value">@item.Text</option>
                                        }
                                    }

                                </select><br />
                                <button type="button" id="btnCumplTransporte4" name="btnCumplTransporte4" class="btn btn-sm btn-white" onclick="GraficaCumplTransporte(4)">Aplicar filtros</button>
                            </div>
                        </div>
                    </div>
                    <div class="ibox-content">
                        <div class="row" style="padding-top:50px;">
                            <div id="placeholder4" class="demo-placeholder"></div>
                            <div id="legend-container4"></div>
                            <div class="col-lg-12">
                                <div class="flot-chart">
                                    <div class="flot-chart-content" id="flot-Chart-CumplTransporte"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>




@section scripts {

    <script src="~/Content/plugins/multiselect/vanillaSelectBox.js"></script>
    <link href="~/Content/plugins/multiselect/vanillaSelectBox.css" rel="stylesheet" />

    <script src="~/Content/Inspinia/plugins/datapicker/bootstrap-datepicker.js"></script>
    <!-- Flot -->
    <script src="~/Content/Inspinia/plugins/flot/jquery.flot.js"></script>
    <script src="~/Content/Inspinia/plugins/flot/jquery.flot.tooltip.min.js"></script>
    <script src="~/Content/Inspinia/plugins/flot/jquery.flot.spline.js"></script>
    <script src="~/Content/Inspinia/plugins/flot/jquery.flot.resize.js"></script>
    <script src="~/Content/Inspinia/plugins/flot/jquery.flot.pie.js"></script>
    <script src="~/Content/Inspinia/plugins/flot/jquery.flot.symbol.js"></script>
    <script src="~/Content/Inspinia/plugins/flot/jquery.flot.time.js"></script>
    @*<script src="~/Content/Inspinia/plugins/flot/jquery.flot.axislabels.js"></script>*@


    <link href="~/Content/plugins/flipclock/flipclock.css" rel="stylesheet" />
    <script src="~/Content/plugins/flipclock/flipclock.js"></script>


    <script src="~/Content/Scripts/moment-timezone-with-data.js"></script>
    <script src="~/Content/Scripts/moment-with-locales.js"></script>

    <link href="~/Content/plugins/datatables/datatables.css" rel="stylesheet" />
    <script src="~/Content/plugins/datatables/datatables.min.js"></script>
    <script src="~/Content/plugins/datatables/datatables.js"></script>

    <script type="text/javascript">
        var clock;
        $(function () {
            $('#datetimepicker1').datetimepicker({

                locale: 'es'
                , format: "yyyy/MM/DD"
            });

            $('#datetimepicker2').datetimepicker({

                locale: 'es'
                , format: "yyyy/MM/DD"
            });

            $('#datetimepicker3').datetimepicker({

                locale: 'es'
                , format: "yyyy/MM/DD"
            });
            $('#datetimepicker4').datetimepicker({

                locale: 'es'
                , format: "yyyy/MM/DD"
            });

            $('#datetimepicker5').datetimepicker({

                locale: 'es'
                , format: "yyyy/MM/DD"
            });
            $('#datetimepicker6').datetimepicker({

                locale: 'es'
                , format: "yyyy/MM/DD"
            });

            $('#datetimepickerCumplEntrega').datetimepicker({

                locale: 'es'
                , format: "yyyy/MM/DD"
            });
            $('#datetimepicker2CumplEntrega').datetimepicker({

                locale: 'es'
                , format: "yyyy/MM/DD"
            });
            $('#datetimepickerCumplCliente').datetimepicker({

                locale: 'es'
                , format: "yyyy/MM/DD"
            });
            $('#datetimepicker2CumplCliente').datetimepicker({

                locale: 'es'
                , format: "yyyy/MM/DD"
            });
            $('#datetimepickerCumplSurtido').datetimepicker({

                locale: 'es'
                , format: "yyyy/MM/DD"
            });
            $('#datetimepicker2CumplSurtido').datetimepicker({

                locale: 'es'
                , format: "yyyy/MM/DD"
            });
            $('#datetimepickerCumplTransporte').datetimepicker({

                locale: 'es'
                , format: "yyyy/MM/DD"
            });
            $('#datetimepicker2CumplTransporte').datetimepicker({

                locale: 'es'
                , format: "yyyy/MM/DD"
            });
            $('#datetimepickerEstDes').datetimepicker({

                locale: 'es'
                , format: "yyyy/MM/DD"
            });
            $('#datetimepicker2EstDes').datetimepicker({

                locale: 'es'
                , format: "yyyy/MM/DD"
            });
        });
        $(document).ready(function () {

            init("ddlTrans");
            init("ddlTipoEnvio");
            init("ddlTipoServicio");
            init("ddlTipoLogistica");


            init("ddlTransEst");
            init("ddlTipoEnvioEst");
            init("ddlTipoServicioEst");
            init("ddlTipoLogisticaEst");
            init("lstIdAlmacen");
            init("ddlSuppliers");

            init("ddlTransMapa");
            init("ddlTipoEnvioMapa");
            init("ddlTipoServicioMapa");
            //init("ddlTipoLogisticaMapa");
            init("lstIdAlmacenMapa");
            init("ddlSuppliersMapa");

            init("ddlTransEstDes");
            init("ddlTipoServicioEstDes");
            init("lstIdAlmacenEstDes");
            init("ddlSuppliersEstDes");

            init("ddlTipoEnvioCumplEntrega");
            init("ddlTipoLogisticaCumplEntrega");
            init("ddlTransCumplEntrega");
            init("ddlTipoServicioCumplEntrega");
            init("lstIdAlmacenCumplEntrega");
            init("ddlSuppliersCumplEntrega");

            init("ddlTipoEnvioCumplCliente");
            init("ddlTipoLogisticaCumplCliente");
            init("ddlTransCumplCliente");
            init("ddlTipoServicioCumplCliente");
            init("lstIdAlmacenCumplCliente");
            init("ddlSuppliersCumplCliente");

            init("ddlTipoEnvioCumplSurtido");
            init("ddlTipoLogisticaCumplSurtido");
            init("ddlTransCumplSurtido");
            init("ddlTipoServicioCumplSurtido");
            init("lstIdAlmacenCumplSurtido");
            init("ddlSuppliersCumplSurtido");

            init("ddlTipoEnvioCumplTransporte");
            init("ddlTipoLogisticaCumplTransporte");
            init("ddlTransCumplTransporte");
            init("ddlTipoServicioCumplTransporte");
            init("lstIdAlmacenCumplTransporte");
            init("ddlSuppliersCumplTransporte");

            setValues("ddlTrans", 'all');
            setValues("ddlTipoEnvio", 'all');
            setValues("ddlTipoServicio", 'all');
            setValues("ddlTipoLogistica", 'all');


            setValues("ddlTransEst", 'all');
            setValues("ddlTipoEnvioEst", 'all');
            setValues("ddlTipoServicioEst", 'all');
            setValues("ddlTipoLogisticaEst", 'all');
            setValues("lstIdAlmacen", 'all');
            setValues("ddlSuppliers", 'all');

            setValues("ddlTransMapa", 'all');
            setValues("ddlTipoEnvioMapa", 'all');
            setValues("ddlTipoServicioMapa", 'all');
            //setValues("ddlTipoLogisticaMapa", 'all');
            setValues("lstIdAlmacenMapa", 'all');
            setValues("ddlSuppliersMapa", 'all');

            setValues("ddlTransEstDes", 'all');
            setValues("ddlTipoServicioEstDes", 'all');
            setValues("lstIdAlmacenEstDes", 'all');
            setValues("ddlSuppliersEstDes", 'all');

            setValues("ddlTipoEnvioCumplEntrega", 'all');
            setValues("ddlTipoLogisticaCumplEntrega", 'all');
            setValues("ddlTransCumplEntrega", 'all');
            setValues("ddlTipoServicioCumplEntrega", 'all');
            setValues("lstIdAlmacenCumplEntrega", 'all');
            setValues("ddlSuppliersCumplEntrega", 'all');

            setValues("ddlTipoEnvioCumplCliente", 'all');
            setValues("ddlTipoLogisticaCumplCliente", 'all');
            setValues("ddlTransCumplCliente", 'all');
            setValues("ddlTipoServicioCumplCliente", 'all');
            setValues("lstIdAlmacenCumplCliente", 'all');
            setValues("ddlSuppliersCumplCliente", 'all');

            setValues("ddlTipoEnvioCumplSurtido", 'all');
            setValues("ddlTipoLogisticaCumplSurtido", 'all');
            setValues("ddlTransCumplSurtido", 'all');
            setValues("ddlTipoServicioCumplSurtido", 'all');
            setValues("lstIdAlmacenCumplSurtido", 'all');
            setValues("ddlSuppliersCumplSurtido", 'all');

            setValues("ddlTipoEnvioCumplTransporte", 'all');
            setValues("ddlTipoLogisticaCumplTransporte", 'all');
            setValues("ddlTransCumplTransporte", 'all');
            setValues("ddlTipoServicioCumplTransporte", 'all');
            setValues("lstIdAlmacenCumplTransporte", 'all');
            setValues("ddlSuppliersCumplTransporte", 'all');

            Grafica("4", 0);
            Mapa("4", 0);
            EstDes("4", 0);
            //clock = $('.clock').FlipClock({
            //    clockFace: 'TwelveHourClock'
            //});

            //VerificarGastosPorTienda();
            GraficaCumplimientoEntrega(4);
            GraficaCumplCliente(4);
            GraficaCumplSurtido(4);
            GraficaCumplTransporte(4);
        });


        function gd(year, month, day) {
            return new Date(year, month - 1, day).getTime();
        }
        function Consulta(opc) {

            $("#btnIndCns1").removeClass("active");
            $("#btnIndCns2").removeClass("active");
            $("#btnIndCns3").removeClass("active");
            $("#btnIndCns4").removeClass("active");

            $('#btnIndCns' + opc).addClass('active');

            var _FecIni = $("#txtFecIndIni").val();
            var _FecFin = $("#txtFecIndFin").val();



            var _IdTransportista = getValues('ddlTrans');
            var _IdTipoEnvio = getValues('ddlTipoEnvio');
            var _IdTipoServicio = getValues('ddlTipoServicio');
            var _IdTipoLogistica = getValues('ddlTipoLogistica');

            if (_IdTransportista.length == 0) {
                alert('Debe de Seleccionar minimo un Transportista');
                $("#ddlTrans").focus();
                return;
            }

            if (_IdTipoEnvio.length == 0) {
                alert('Debe de Seleccionar minimo un Tipo de envío');
                $("#ddlTipoEnvio").focus();
                return;
            }

            if (_IdTipoServicio.length == 0) {
                alert('Debe de Seleccionar minimo un Tipo de Servicio');
                $("#ddlTipoServicio").focus();
                return;
            }

            if (_IdTipoLogistica.length == 0) {
                alert('Debe de Seleccionar minimo un Tipo de Logistica');
                $("#ddlTipoLogistica").focus();
                return;
            }

            $.ajax({
                type: 'GET',
                url: '@Url.Action("IndicadoresOp", "TMS")',
                dataType: "html",
                data: {
                    FecIni: _FecIni,
                    FecFin: _FecFin,
                    op: opc,
                    IdTransportista: _IdTransportista.join(','),
                    IdTipoEnvio: _IdTipoEnvio.join(','),
                    IdTipoServicio: _IdTipoServicio.join(','),
                    IdTipoLogistica: _IdTipoLogistica.join(','),
                },
            cache: false,
                success: function (data) {
                    $('#divIndicadores').html(data);
                    $('#datetimepicker1').datetimepicker({

                        locale: 'es'
                        , format: "yyyy/MM/DD"
                    });

                    $('#datetimepicker2').datetimepicker({

                        locale: 'es'
                        , format: "yyyy/MM/DD"
                    });
                    init("ddlTrans");
                    init("ddlTipoEnvio");
                    init("ddlTipoServicio");
                    init("ddlTipoLogistica");


                    setValues("ddlTrans", _IdTransportista.join(','));
                    setValues("ddlTipoEnvio", _IdTipoEnvio.join(','));
                    setValues("ddlTipoServicio", _IdTipoServicio.join(','));
                    setValues("ddlTipoLogistica", _IdTipoLogistica.join(','));
                //$('#tabItemDetails').html(grid);
                //clientBehaviors.applyPlugins($("#tabProductDetails")); // "tabProductDetails" is an id of div in your "Details partial view"
            }
        });
        }
        function Grafica(opc,origen) {


            $("#btnEst1").removeClass("active");
            $("#btnEst2").removeClass("active");
            $("#btnEst3").removeClass("active");
            $("#btnEst4").removeClass("active");

            $('#btnEst' + opc).addClass('active');

            var count = 1;

            var _TipoFecha = $("#ddlTipoFecha").val();
            var _Estatus = $("#ddlEstatus").val();

            var etiqueta = $("#ddlEstatus option:selected").text();



            var _IdTransportista = getValues('ddlTransEst');
            var _IdTipoEnvio = getValues('ddlTipoEnvioEst');
            var _IdTipoServicio = getValues('ddlTipoServicioEst');
            var _IdTipoLogistica = getValues('ddlTipoLogisticaEst');

            var _TipoAlmacen = getValues('lstIdAlmacen');
            var _Almacen = getValues('ddlSuppliers');



            if (_IdTransportista.length == 0) {
                alert('Debe de Seleccionar minimo un Transportista');
                $("#ddlTransEst").focus();
                return;
            }

            if (_IdTipoEnvio.length == 0) {
                alert('Debe de Seleccionar minimo un Tipo de envío');
                $("#ddlTipoEnvioEst").focus();
                return;
            }

            if (_IdTipoServicio.length == 0) {
                alert('Debe de Seleccionar minimo un Tipo de Servicio');
                $("#ddlTipoServicioEst").focus();
                return;
            }

            if (_IdTipoLogistica.length == 0) {
                alert('Debe de Seleccionar minimo un Tipo de Logistica');
                $("#ddlTipoLogisticaEst").focus();
                return;
            }

            if (origen != 0) {
                if (_TipoAlmacen.length == 0) {
                    alert('Debe de Seleccionar minimo un Almacen y una Tienda/Proveedor');
                    $("#lstIdAlmacen").focus();
                    return;
                }

                if (_Almacen.length == 0) {
                    alert('Debe de Seleccionar minimo un Almacen y una Tienda/Proveedor');
                    $("#ddlSuppliers").focus();
                    return;
                }
            }

            var _json = [];

            getValues('ddlSuppliers').forEach(x => {

                let _obj = {};
                _obj.IdTienda = x.split('-')[0];
                _obj.IdOwner = x.split('-')[1];
                _obj.Nombre = x.split('-')[2];
                _obj.NombreProveedor = x.split('-')[3];
                _json.push(_obj);

                count = count + 1;
            });




            var fecIni = $("#txtFecEstIni").val();
            var fecFin = $("#txtFecEstFin").val();
             $.ajax({
                async: false,
                type: "POST",
                 url: '@Url.Action("EstatusEnvio", "TMS")',
                 data: {
                     FecIni: fecIni,
                     FecFin: fecFin,
                     op: opc,
                     IdTransportista: _IdTransportista.join(','),
                     IdTipoEnvio: _IdTipoEnvio.join(','),
                     IdTipoServicio: _IdTipoServicio.join(','),
                     IdTipoLogistica: _IdTipoLogistica.join(','),
                     TipoFecha: _TipoFecha,
                     Estatus: _Estatus,
                     json: JSON.stringify(_json)
                 },
                datatype: "html",
                 success: function (data) {

                    if (data.Success) {

                        var data2 = [];
                        var data3 = [];

                        for (var i = 0; i < data.Envios.length; i++) {
                            //sel.append('<option value="' + json.resp[i].idRol + '">' + json.resp[i].nombreRol + ' [' + json.resp[i].descripcion + ']</option>');
                            //data2[i] = [gd(data.Envios.Anio, data.Envios.Mes, data.Envios.Dia), data.Envios.Valor];
                            data3.push([gd(data.Envios[i].Anio, data.Envios[i].Mes, data.Envios[i].Dia), data.Envios[i].Valor]);
                        }
                        for (var i = 0; i < data.Estatus.length; i++) {
                            //sel.append('<option value="' + json.resp[i].idRol + '">' + json.resp[i].nombreRol + ' [' + json.resp[i].descripcion + ']</option>');
                            //data2[i] = [gd(data.Envios.Anio, data.Envios.Mes, data.Envios.Dia), data.Envios.Valor];
                            data2.push([gd(data.Estatus[i].Anio, data.Estatus[i].Mes, data.Estatus[i].Dia), data.Estatus[i].Valor]);
                        }




                        var dataset = [
                            {
                                label: "Envíos generados",
                                data: data3,
                                color: "#1ab394",
                                bars: {
                                    show: true,
                                    align: "center",
                                    barWidth: 24 * 60 * 60 * 600,
                                    lineWidth: 0
                                }

                            }, {
                                label: etiqueta,
                                data: data2,
                                yaxis: 2,
                                color: "#1C84C6",
                                lines: {
                                    lineWidth: 1,
                                    show: true,
                                    fill: true,
                                    fillColor: {
                                        colors: [{
                                            opacity: 0.2
                                        }, {
                                            opacity: 0.4
                                        }]
                                    }
                                },
                                splines: {
                                    show: false,
                                    tension: 0.6,
                                    lineWidth: 1,
                                    fill: 0.1
                                },
                            }
                        ];


                        var options = {

                            xaxis: {
                                mode: "time",
                                tickSize: [1, "day"],
                                tickLength: 5,
                                axisLabel: "Date",
                                axisLabelUseCanvas: true,
                                axisLabelFontSizePixels: 12,
                                axisLabelFontFamily: 'Arial',
                                axisLabelPadding: 10,
                                color: "#d5d5d5"
                            },
                            yaxes: [{
                                position: "left",
                                axisLabel: "DNS Query Count",

                                //max: 1070,
                                color: "#d5d5d5",
                                axisLabelUseCanvas: true,
                                axisLabelFontSizePixels: 12,
                                axisLabelFontFamily: 'Arial',
                                axisLabelPadding: 3
                            }, {
                                position: "right ",
                                clolor: "#d5d5d5",
                                axisLabel: "DNS Query Count",
                                axisLabelUseCanvas: true,
                                axisLabelFontSizePixels: 12,
                                axisLabelFontFamily: ' Arial',
                                axisLabelPadding: 67,

                            }
                            ],
                            legend: {
                                noColumns: 1,
                                labelBoxBorderColor: "#000000",
                                position: "nw"
                            },
                            grid: {
                                color: "#999999",
                                hoverable: true,
                                clickable: true,
                                tickColor: "#D4D4D4",
                                borderWidth: 0,
                                hoverable: true //IMPORTANT! this is needed for tooltip to work,
                            }
                            , tooltip: true,
                            tooltipOpts: {
                                content: "%s for %x was %y",
                                /*xDateFormat: "%y-%0m-%0d",*/

                                onHover: function (flotItem, $tooltipEl) {
                                    // console.log(flotItem, $tooltipEl);
                                }
                            }
                        };

                        if (opc == '3') {
                            options = {
                                bars: {
                                    align: "center",
                                    barWidth: 12
                                },
                                xaxis: {
                                    mode: "time",
                                    tickSize: [1, "month"],
                                    tickLength: 5,
                                    axisLabel: "Date",
                                    axisLabelUseCanvas: true,
                                    axisLabelFontSizePixels: 12,
                                    axisLabelFontFamily: 'Arial',
                                    axisLabelPadding: 10,
                                    color: "#d5d5d5"
                                },
                                yaxes: [{
                                    position: "left",
                                    axisLabel: "DNS Query Count",

                                    //max: 1070,
                                    color: "#d5d5d5",
                                    axisLabelUseCanvas: true,
                                    axisLabelFontSizePixels: 12,
                                    axisLabelFontFamily: 'Arial',
                                    axisLabelPadding: 3
                                }, {
                                    position: "right ",
                                    clolor: "#d5d5d5",
                                    axisLabel: "DNS Query Count",
                                    axisLabelUseCanvas: true,
                                    axisLabelFontSizePixels: 12,
                                    axisLabelFontFamily: ' Arial',
                                    axisLabelPadding: 67,

                                }
                                ],
                                legend: {
                                    noColumns: 1,
                                    labelBoxBorderColor: "#000000",
                                    position: "nw"
                                },
                                grid: {
                                    color: "#999999",
                                    hoverable: true,
                                    clickable: true,
                                    tickColor: "#D4D4D4",
                                    borderWidth: 0,
                                    hoverable: true //IMPORTANT! this is needed for tooltip to work,
                                }
                                , tooltip: true,
                                tooltipOpts: {
                                    content: "%s for %x was %y",
                                    /*xDateFormat: "%y-%0m-%0d",*/

                                    onHover: function (flotItem, $tooltipEl) {
                                        // console.log(flotItem, $tooltipEl);
                                    }
                                }
                            };
                        }
                        //var previousPoint = null, previousLabel = null;

                        $.plot($("#flot-dashboard-chart"), dataset, options);

                    }
                    else {
                        alert(data.Message);
                    }
                }
                , error: function (jqXHR, textStatus, errorThrown) {
                    alert(errorThrown);

                }
            });
        }
        function Mapa(opc,origen) {


            $("#btnMapa1").removeClass("active");
            $("#btnMapa2").removeClass("active");
            $("#btnMapa3").removeClass("active");
            $("#btnMapa4").removeClass("active");

            $('#btnMapa' + opc).addClass('active');

            var count = 1;
            var _Estatus = $("#ddlEstatusMapa").val();


            var _IdTransportista = getValues('ddlTransMapa');
            var _IdTipoEnvio = getValues('ddlTipoEnvioMapa');
            var _IdTipoServicio = getValues('ddlTipoServicioMapa');
            //var _IdTipoLogistica = getValues('ddlTipoLogisticaMapa');

            var _TipoAlmacen = getValues('lstIdAlmacenMapa');
            var _Almacen = getValues('ddlSuppliersMapa');



            if (_IdTransportista.length == 0) {
                alert('Debe de Seleccionar minimo un Transportista');
                $("#ddlTransMapa").focus();
                return;
            }

            if (_IdTipoEnvio.length == 0) {
                alert('Debe de Seleccionar minimo un Tipo de envío');
                $("#ddlTipoEnvioMapa").focus();
                return;
            }

            if (_IdTipoServicio.length == 0) {
                alert('Debe de Seleccionar minimo un Tipo de Servicio');
                $("#ddlTipoServicioMapa").focus();
                return;
            }

            //if (_IdTipoLogistica.length == 0) {
            //    alert('Debe de Seleccionar minimo un Tipo de Logistica');
            //    $("#ddlTipoLogisticaMapa").focus();
            //    return;
            //}

            if (origen != 0) {
                if (_TipoAlmacen.length == 0) {
                    alert('Debe de Seleccionar minimo un Almacen y una Tienda/Proveedor');
                    $("#lstIdAlmacenMapa").focus();
                    return;
                }

                if (_Almacen.length == 0) {
                    alert('Debe de Seleccionar minimo un Almacen y una Tienda/Proveedor');
                    $("#ddlSuppliersMapa").focus();
                    return;
                }
            }

            var _json = [];

            getValues('ddlSuppliersMapa').forEach(x => {

                let _obj = {};
                _obj.IdTienda = x.split('-')[0];
                _obj.IdOwner = x.split('-')[1];
                _obj.Nombre = x.split('-')[2];
                _obj.NombreProveedor = x.split('-')[3];
                _json.push(_obj);

                count = count + 1;
            });




            var fecIni = $("#txtFecMapaIni").val();
            var fecFin = $("#txtFecMapaFin").val();
             $.ajax({
                async: false,
                type: "POST",
                 url: '@Url.Action("EnvioLogistica", "TMS")',
                 data: {
                     FecIni: fecIni,
                     FecFin: fecFin,
                     op: opc,
                     IdTransportista: _IdTransportista.join(','),
                     IdTipoEnvio: _IdTipoEnvio.join(','),
                     IdTipoServicio: _IdTipoServicio.join(','),
                     //IdTipoLogistica: _IdTipoLogistica.join(','),
                     Estatus: _Estatus,
                     json: JSON.stringify(_json)
                 },
                datatype: "html",
                 success: function (data) {

                    if (data.Success) {
                        $('#tblEnvioLogistica tbody').empty();
                        $(data.tabla).each(function (index, item) {

                            $('#tblEnvioLogistica tbody').append(
                                '<tr><td class="text-center">' + item.Ordenamiento + '</td>'
                                + '<td>' + item.TipoLogistica + '</td>'
                                + '<td class="text-center small">' + item.Porcentaje + '</td>'
                                + '<td class="text-center"><span style="background-color:' + item.Color +';" class="label label-primary">' + item.TotEnvios + '</span></td></tr>'
                                //  + '<td class="text-center"><span  style="color:#FFFFFF;background-color:' + item.Color+'">' + item.TotEnvios + '</span></td></tr>'
                            )


                        });
                        //console.log(data.mapa)
                        //var estados = JSON.stringify(data.mapa);
                        //var obj = JSON.parse(estados);
                        //console.log(estados)

                        //var _areas = {};


                        var _areas = {};



                        $(data.mapa).each(function (index, item) {
                            var statedata = [];
                            var state = item.NomEstado;

                            var attrs = {
                                fill: item.Color
                            };

                            var attrsHover = {
                                fill: item.Color
                            };

                            var tooltip = {
                                content: item.Tooltip
                            }

                            statedata.push(state);
                            _areas[statedata] = {

                                attrsHover: attrsHover,
                                attrs: attrs,
                                tooltip: tooltip
                            };
                        });


                        $(".mapcontainer").mapael({
                            map: {
                                name: "mexico"
                                // Enable zoom on the map
                                , zoom: {
                                    enabled: true,
                                    maxLevel: 10
                                }
                                , defaultArea: {
                                    attrs: {
                                        fill: "#f4f4e8"
                                        , stroke: "#ced8d0"
                                    }
                                    , attrsHover: {
                                        fill: "#a4e100"
                                    }
                                    , text: {
                                        attrs: {
                                            fill: "#505444"
                                        }
                                        , attrsHover: {
                                            fill: "#000"
                                        }
                                    }
                                }
                            },



                            // Customize some areas of the map
                            areas: _areas





                        });
                    }
                    else {
                        alert(data.Message);
                    }
                }
                , error: function (jqXHR, textStatus, errorThrown) {
                    alert(errorThrown);

                }
            });
        }
        function EstDes(opc,origen) {


            $("#btnEstDes1").removeClass("active");
            $("#btnEstDes2").removeClass("active");
            $("#btnEstDes3").removeClass("active");
            $("#btnEstDes4").removeClass("active");

            $('#btnEstDes' + opc).addClass('active');





            var count = 1;




            var _Estatus = $("#ddlEstatusEstDes").val();





            var _IdTransportista = getValues('ddlTransEstDes');
            //var _IdTipoEnvio = getValues('ddlTipoEnvioEstDes');
            var _IdTipoServicio = getValues('ddlTipoServicioEstDes');
            //var _IdTipoLogistica = getValues('ddlTipoLogisticaMapa');

            var _TipoAlmacen = getValues('lstIdAlmacenEstDes');
            var _Almacen = getValues('ddlSuppliersEstDes');



            if (_IdTransportista.length == 0) {
                alert('Debe de Seleccionar minimo un Transportista');
                $("#ddlTransEstDes").focus();
                return;
            }

            //if (_IdTipoEnvio.length == 0) {
            //    alert('Debe de Seleccionar minimo un Tipo de envío');
            //    $("#ddlTipoEnvioEstDes").focus();
            //    return;
            //}

            if (_IdTipoServicio.length == 0) {
                alert('Debe de Seleccionar minimo un Tipo de Servicio');
                $("#ddlTipoServicioEstDes").focus();
                return;
            }

            //if (_IdTipoLogistica.length == 0) {
            //    alert('Debe de Seleccionar minimo un Tipo de Logistica');
            //    $("#ddlTipoLogisticaMapa").focus();
            //    return;
            //}

            if (origen != 0) {
                if (_TipoAlmacen.length == 0) {
                    alert('Debe de Seleccionar minimo un Almacen y una Tienda/Proveedor');
                    $("#lstIdAlmacenEstDes").focus();
                    return;
                }

                if (_Almacen.length == 0) {
                    alert('Debe de Seleccionar minimo un Almacen y una Tienda/Proveedor');
                    $("#ddlSuppliersEstDes").focus();
                    return;
                }
            }

            var _json = [];

            getValues('ddlSuppliersEstDes').forEach(x => {

                let _obj = {};
                _obj.IdTienda = x.split('-')[0];
                _obj.IdOwner = x.split('-')[1];
                _obj.Nombre = x.split('-')[2];
                _obj.NombreProveedor = x.split('-')[3];
                _json.push(_obj);

                count = count + 1;
            });




            var fecIni = $("#txtFecEstDesIni").val();
            var fecFin = $("#txtFecEstDesFin").val();
             $.ajax({
                async: false,
                type: "POST",
                 url: '@Url.Action("EnvioEstadoDestino", "TMS")',
                 data: {
                     FecIni: fecIni,
                     FecFin: fecFin,
                     op: opc,
                     IdTransportista: _IdTransportista.join(','),
   /*                  IdTipoEnvio: _IdTipoEnvio.join(','),*/
                     IdTipoServicio: _IdTipoServicio.join(','),
                     //IdTipoLogistica: _IdTipoLogistica.join(','),
                     Estatus: _Estatus,
                     json: JSON.stringify(_json)
                 },
                datatype: "html",
                 success: function (data) {

                    if (data.Success) {
                        $('#tblEnvioPaqueteria tbody').empty();
                        $(data.tabla).each(function (index, item) {

                            $('#tblEnvioPaqueteria tbody').append(
                                '<tr><td class="text-center">' + item.Ordenamiento + '</td>'
                                + '<td>' + item.TipoEnvio + '</td>'
                                + '<td class="text-center small">' + item.Porcentaje + '</td>'
                                + '<td class="text-center"><span style="background-color:' + item.Color +';" class="label label-primary">' + item.TotEnvios + '</span></td></tr>'
                                //  + '<td class="text-center"><span  style="color:#FFFFFF;background-color:' + item.Color+'">' + item.TotEnvios + '</span></td></tr>'
                            )


                        });

                        $('#tblEnvioBig tbody').empty();
                        $(data.tabla2).each(function (index, item) {

                            $('#tblEnvioBig tbody').append(
                                '<tr><td class="text-center">' + item.Ordenamiento + '</td>'
                                + '<td>' + item.TipoEnvio + '</td>'
                                + '<td class="text-center small">' + item.Porcentaje + '</td>'
                                + '<td class="text-center"><span style="background-color:' + item.Color + ';" class="label label-primary">' + item.TotEnvios + '</span></td></tr>'
                                //  + '<td class="text-center"><span  style="color:#FFFFFF;background-color:' + item.Color+'">' + item.TotEnvios + '</span></td></tr>'
                            )


                        });
                        //console.log(data.mapa)
                        //var estados = JSON.stringify(data.mapa);
                        //var obj = JSON.parse(estados);
                        //console.log(estados)

                        //var _areas = {};


                        var _areas = {};



                        $(data.mapa).each(function (index, item) {
                            var statedata = [];
                            var state = item.NomEstado;

                            var attrs = {
                                fill: item.Color
                            };

                            var attrsHover = {
                                fill: item.Color
                            };

                            var tooltip = {
                                content: item.Tooltip
                            }

                            statedata.push(state);
                            _areas[statedata] = {

                                attrsHover: attrsHover,
                                attrs: attrs,
                                tooltip: tooltip
                            };
                        });

                        //mapcontainer-paq
                        $(".mapcontainer-paq").mapael({
                            map: {
                                name: "mexico"
                                // Enable zoom on the map
                                , zoom: {
                                    enabled: true,
                                    maxLevel: 10
                                }
                                , defaultArea: {
                                    attrs: {
                                        fill: "#f4f4e8"
                                        , stroke: "#ced8d0"
                                    }
                                    , attrsHover: {
                                        fill: "#a4e100"
                                    }
                                    , text: {
                                        attrs: {
                                            fill: "#505444"
                                        }
                                        , attrsHover: {
                                            fill: "#000"
                                        }
                                    }
                                }
                            },



                            // Customize some areas of the map
                            areas: _areas





                        });
                    }
                    else {
                        alert(data.Message);
                    }
                }
                , error: function (jqXHR, textStatus, errorThrown) {
                    alert(errorThrown);

                }
            });
        }

        function VerificarGastosPorTienda() {
             $.ajax({
                async: false,
                type: "GET",
                url: '@Url.Action("VerificarGastosPorTienda", "TMS")',
                data: {

                },
                datatype: "html",
                success: function (json) {

                    if (json.Success) {

                        if (!json.Gastos)
                            alert(json.Mensaje);
                        //var sel = $("#ddlRoles");
                        //sel.empty();

                        //$('#ddlRoles').get(0).options[0] = new Option("--SELECCIONE--", "0");
                        //for (var i = 0; i < json.resp.length; i++) {
                        //    sel.append('<option value="' + json.resp[i].idRol + '">' + json.resp[i].nombreRol + ' [' + json.resp[i].descripcion + ']</option>');
                        //}
                    }
                    else {
                        alert(json.Message);
                    }
                }
                , error: function (jqXHR, textStatus, errorThrown) {
                    bootbox.alert(errorThrown);

                }
            });
        }


        @*function GetSupp(_idOwner) {
            $.ajax({

                type: "GET",
                url: '@Url.Action("ListSuppliersById2", "Catalogo")',
                data: {
                    idsOwner: _idOwner
                },
                datatype: "html",
                success: function (json) {

                    if (json.Success) {

                        var sel = $("#ddlSuppliers");
                        sel.empty();

                        for (var i = 0; i < json.resp.length; i++) {
                            sel.append('<option value="' + json.resp[i].IdProveedor + '">' + json.resp[i].NombreProveedor.replace(/'/g, '').trim() + '</option>');

                        }

                        init("ddlSuppliers");

                        setValues('ddlSuppliers', 'all');




                    }
                    else {
                        alert(json.Message);
                    }
                }
                , error: function (jqXHR, textStatus, errorThrown) {
                    alert(errorThrown);

                }
            });

        }*@

        $("#lstIdAlmacen").change(function () {

            GetSupp(getValues('lstIdAlmacen').join(','), 'ddlSuppliers');

        });

        $("#lstIdAlmacenMapa").change(function () {

            GetSupp(getValues('lstIdAlmacenMapa').join(','), 'ddlSuppliersMapa');

        });
        function GetSupp(_idOwner,idCombo) {
            $.ajax({

                type: "GET",
                url: '@Url.Action("ListSuppliersById2", "Catalogo")',
                data: {
                    idsOwner: _idOwner
                },
                datatype: "html",
                success: function (json) {

                    if (json.Success) {

                        var sel = $("#" + idCombo);
                        sel.empty();

                        for (var i = 0; i < json.resp.length; i++) {
                            sel.append('<option value="' + json.resp[i].IdProveedor + '">' + json.resp[i].NombreProveedor.replace(/'/g, '').trim() + '</option>');

                        }

                        init(idCombo);

                        setValues(idCombo, 'all');




                    }
                    else {
                        alert(json.Message);
                    }
                }
                , error: function (jqXHR, textStatus, errorThrown) {
                    alert(errorThrown);

                }
            });

        }
    </script>
    <script>
        function empty() {
            if (selectBox2 != null) {
                selectBox2.empty();
            }
            if (selectBox1 != null) {
                selectBox1.empty();
            }
        }
        function doDestroy(id) {

            if (id == "ddlSuppliers" && selectBox2 != null) {
                selectBox2.destroy();


            }
        }
        function init(id) {

            if (id == "ddlTrans") {

                selectBoxTrans = new vanillaSelectBox("#ddlTrans", { "disableSelectAll": false, "maxHeight": 200, "search": false, "translations": { "all": "Todos los Transportistas", "items": "Transportistas Seleccionados", "selectAll": "Check All", "clearAll": "Clear All" } });

            }
            if (id == "ddlTipoEnvio") {

                selectBoxTipoEnvio = new vanillaSelectBox("#ddlTipoEnvio", { "disableSelectAll": false, "maxHeight": 200, "search": false, "translations": { "all": "Todos los Tipo de Envio", "items": " Tipo de Envio Seleccionados", "selectAll": "Check All", "clearAll": "Clear All" } });

            }
            if (id == "ddlTipoServicio") {

                selectBoxTipoServo = new vanillaSelectBox("#ddlTipoServicio", { "disableSelectAll": false, "maxHeight": 200, "search": false, "translations": { "all": "Todos los Tipo de Servicios", "items": " Tipo de Servicios Seleccionados ", "selectAll": "Check All", "clearAll": "Clear All" } });

            }
            if (id == "ddlTipoLogistica") {

                selectBoxTipoLogistica = new vanillaSelectBox("#ddlTipoLogistica", { "disableSelectAll": false, "maxHeight": 200, "search": false, "translations": { "all": "Todos los Tipo de Logistica", "items": "  de Logistica Seleccionados", "selectAll": "Check All", "clearAll": "Clear All" } });

            }

            if (id == "lstIdAlmacen") {

                selectBox1 = new vanillaSelectBox("#lstIdAlmacen", { "disableSelectAll": true, "maxHeight": 200, "search": false, "translations": { "all": "Todos los Almacenes", "items": "Seleccionados", "selectAll": "Check All", "clearAll": "Clear All" } });

            }
            if (id == "ddlSuppliers") {
                selectBox2 = new vanillaSelectBox("#ddlSuppliers", { "disableSelectAll": false, "maxHeight": 200, "search": false, "translations": { "all": "Todas las Tiendas", "items": "Seleccionados", "selectAll": "Check All", "clearAll": "Clear All" } });
            }
            if (id == "ddlTransEst") {

                selectBoxTransEst = new vanillaSelectBox("#ddlTransEst", { "disableSelectAll": false, "maxHeight": 200, "search": false, "translations": { "all": "Todos los Transportistas", "items": "Transportistas Seleccionados", "selectAll": "Check All", "clearAll": "Clear All" } });

            }
            if (id == "ddlTipoEnvioEst") {

                selectBoxTipoEnvioEst = new vanillaSelectBox("#ddlTipoEnvioEst", { "disableSelectAll": false, "maxHeight": 200, "search": false, "translations": { "all": "Todos los Tipo de Envio", "items": " Tipo de Envio Seleccionados", "selectAll": "Check All", "clearAll": "Clear All" } });

            }

            if (id == "ddlTipoServicioEst") {

                selectBoxTipoServoEst = new vanillaSelectBox("#ddlTipoServicioEst", { "disableSelectAll": false, "maxHeight": 200, "search": false, "translations": { "all": "Todos los Tipo de Servicios", "items": " Tipo de Servicios Seleccionados ", "selectAll": "Check All", "clearAll": "Clear All" } });

            }

            if (id == "ddlTipoLogisticaEst") {

                selectBoxTipoLogisticaEst = new vanillaSelectBox("#ddlTipoLogisticaEst", { "disableSelectAll": false, "maxHeight": 200, "search": false, "translations": { "all": "Todos los Tipo de Logistica", "items": "  de Logistica Seleccionados", "selectAll": "Check All", "clearAll": "Clear All" } });

            }

            if (id == "lstIdAlmacenMapa") {

                selectBoxlstIdAlmacenMapa = new vanillaSelectBox("#lstIdAlmacenMapa", { "disableSelectAll": true, "maxHeight": 200, "search": false, "translations": { "all": "Todos los Almacenes", "items": "Seleccionados", "selectAll": "Check All", "clearAll": "Clear All" } });

            }
            if (id == "ddlSuppliersMapa") {
                selectBoxddlSuppliersMapa = new vanillaSelectBox("#ddlSuppliersMapa", { "disableSelectAll": false, "maxHeight": 200, "search": false, "translations": { "all": "Todas las Tiendas", "items": "Seleccionados", "selectAll": "Check All", "clearAll": "Clear All" } });
            }
            if (id == "ddlTransMapa") {

                selectBoxTransMapa = new vanillaSelectBox("#ddlTransMapa", { "disableSelectAll": false, "maxHeight": 200, "search": false, "translations": { "all": "Todos los Transportistas", "items": "Transportistas Seleccionados", "selectAll": "Check All", "clearAll": "Clear All" } });

            }
            if (id == "ddlTipoEnvioMapa") {

                selectBoxTipoEnvioMapa = new vanillaSelectBox("#ddlTipoEnvioMapa", { "disableSelectAll": false, "maxHeight": 200, "search": false, "translations": { "all": "Todos los Tipo de Envio", "items": " Tipo de Envio Seleccionados", "selectAll": "Check All", "clearAll": "Clear All" } });

            }

            if (id == "ddlTipoServicioMapa") {

                selectBoxTipoServoMapa = new vanillaSelectBox("#ddlTipoServicioMapa", { "disableSelectAll": false, "maxHeight": 200, "search": false, "translations": { "all": "Todos los Tipo de Servicios", "items": " Tipo de Servicios Seleccionados ", "selectAll": "Check All", "clearAll": "Clear All" } });

            }

            if (id == "ddlTipoLogisticaMapa") {

                selectBoxTipoLogisticaMapa = new vanillaSelectBox("#ddlTipoLogisticaMapa", { "disableSelectAll": false, "maxHeight": 200, "search": false, "translations": { "all": "Todos los Tipo de Logistica", "items": "  de Logistica Seleccionados", "selectAll": "Check All", "clearAll": "Clear All" } });

            }


            if (id == "lstIdAlmacenEstDes") {

                selectBoxlstIdAlmacenEstDes = new vanillaSelectBox("#lstIdAlmacenEstDes", { "disableSelectAll": true, "maxHeight": 200, "search": false, "translations": { "all": "Todos los Almacenes", "items": "Seleccionados", "selectAll": "Check All", "clearAll": "Clear All" } });

            }
            if (id == "ddlSuppliersEstDes") {
                selectBoxddlSuppliersEstDes = new vanillaSelectBox("#ddlSuppliersEstDes", { "disableSelectAll": false, "maxHeight": 200, "search": false, "translations": { "all": "Todas las Tiendas", "items": "Seleccionados", "selectAll": "Check All", "clearAll": "Clear All" } });
            }
            if (id == "ddlTransEstDes") {

                selectBoxTransEstDes = new vanillaSelectBox("#ddlTransEstDes", { "disableSelectAll": false, "maxHeight": 200, "search": false, "translations": { "all": "Todos los Transportistas", "items": "Transportistas Seleccionados", "selectAll": "Check All", "clearAll": "Clear All" } });

            }
            if (id == "ddlTipoEnvioEstDes") {

                selectBoxTipoEnvioEstDes = new vanillaSelectBox("#ddlTipoEnvioEstDes", { "disableSelectAll": false, "maxHeight": 200, "search": false, "translations": { "all": "Todos los Tipo de Envio", "items": " Tipo de Envio Seleccionados", "selectAll": "Check All", "clearAll": "Clear All" } });

            }

            if (id == "ddlTipoServicioEstDes") {

                selectBoxTipoServoEstDes = new vanillaSelectBox("#ddlTipoServicioEstDes", { "disableSelectAll": false, "maxHeight": 200, "search": false, "translations": { "all": "Todos los Tipo de Servicios", "items": " Tipo de Servicios Seleccionados ", "selectAll": "Check All", "clearAll": "Clear All" } });

            }

            if (id == "ddlTipoLogisticaEstDes") {

                selectBoxTipoLogisticaEstDes = new vanillaSelectBox("#ddlTipoLogisticaEstDes", { "disableSelectAll": false, "maxHeight": 200, "search": false, "translations": { "all": "Todos los Tipo de Logistica", "items": "  de Logistica Seleccionados", "selectAll": "Check All", "clearAll": "Clear All" } });


            }
            if (id == "lstIdAlmacenCumplEntrega") {

                selectBoxlstIdAlmacenCumplEntrega = new vanillaSelectBox("#lstIdAlmacenCumplEntrega", { "disableSelectAll": true, "maxHeight": 200, "search": false, "translations": { "all": "Todos los Almacenes", "items": "Seleccionados", "selectAll": "Check All", "clearAll": "Clear All" } });

            }
            if (id == "ddlSuppliersCumplEntrega") {
                selectBoxddlSuppliersCumplEntrega = new vanillaSelectBox("#ddlSuppliersCumplEntrega", { "disableSelectAll": false, "maxHeight": 200, "search": false, "translations": { "all": "Todas las Tiendas", "items": "Seleccionados", "selectAll": "Check All", "clearAll": "Clear All" } });
            }
            if (id == "ddlTransCumplEntrega") {

                selectBoxTransCumplEntrega = new vanillaSelectBox("#ddlTransCumplEntrega", { "disableSelectAll": false, "maxHeight": 200, "search": false, "translations": { "all": "Todos los Transportistas", "items": "Transportistas Seleccionados", "selectAll": "Check All", "clearAll": "Clear All" } });

            }
            if (id == "ddlTipoEnvioCumplEntrega") {

                selectBoxTipoEnvioCumplEntrega = new vanillaSelectBox("#ddlTipoEnvioCumplEntrega", { "disableSelectAll": false, "maxHeight": 200, "search": false, "translations": { "all": "Todos los Tipo de Envio", "items": " Tipo de Envio Seleccionados", "selectAll": "Check All", "clearAll": "Clear All" } });

            }
            if (id == "ddlTipoServicioCumplEntrega") {

                selectBoxTipoServoCumplEntrega = new vanillaSelectBox("#ddlTipoServicioCumplEntrega", { "disableSelectAll": false, "maxHeight": 200, "search": false, "translations": { "all": "Todos los Tipo de Servicios", "items": " Tipo de Servicios Seleccionados ", "selectAll": "Check All", "clearAll": "Clear All" } });

            }
            if (id == "ddlTipoLogisticaCumplEntrega") {

                selectBoxTipoLogisticaCumplEntrega = new vanillaSelectBox("#ddlTipoLogisticaCumplEntrega", { "disableSelectAll": false, "maxHeight": 200, "search": false, "translations": { "all": "Todos los Tipo de Logistica", "items": "  de Logistica Seleccionados", "selectAll": "Check All", "clearAll": "Clear All" } });

            }

            if (id == "lstIdAlmacenCumplCliente") {

                selectBoxlstIdAlmacenCumplCliente = new vanillaSelectBox("#lstIdAlmacenCumplCliente", { "disableSelectAll": true, "maxHeight": 200, "search": false, "translations": { "all": "Todos los Almacenes", "items": "Seleccionados", "selectAll": "Check All", "clearAll": "Clear All" } });

            }
            if (id == "ddlSuppliersCumplCliente") {
                selectBoxddlSuppliersCumplCliente = new vanillaSelectBox("#ddlSuppliersCumplCliente", { "disableSelectAll": false, "maxHeight": 200, "search": false, "translations": { "all": "Todas las Tiendas", "items": "Seleccionados", "selectAll": "Check All", "clearAll": "Clear All" } });
            }
            if (id == "ddlTransCumplCliente") {

                selectBoxTransCumplCliente = new vanillaSelectBox("#ddlTransCumplCliente", { "disableSelectAll": false, "maxHeight": 200, "search": false, "translations": { "all": "Todos los Transportistas", "items": "Transportistas Seleccionados", "selectAll": "Check All", "clearAll": "Clear All" } });

            }
            if (id == "ddlTipoEnvioCumplCliente") {

                selectBoxTipoEnvioCumplCliente = new vanillaSelectBox("#ddlTipoEnvioCumplCliente", { "disableSelectAll": false, "maxHeight": 200, "search": false, "translations": { "all": "Todos los Tipo de Envio", "items": " Tipo de Envio Seleccionados", "selectAll": "Check All", "clearAll": "Clear All" } });

            }
            if (id == "ddlTipoServicioCumplCliente") {

                selectBoxTipoServoCumplCliente = new vanillaSelectBox("#ddlTipoServicioCumplCliente", { "disableSelectAll": false, "maxHeight": 200, "search": false, "translations": { "all": "Todos los Tipo de Servicios", "items": " Tipo de Servicios Seleccionados ", "selectAll": "Check All", "clearAll": "Clear All" } });

            }
            if (id == "ddlTipoLogisticaCumplCliente") {

                selectBoxTipoLogisticaCumplCliente = new vanillaSelectBox("#ddlTipoLogisticaCumplCliente", { "disableSelectAll": false, "maxHeight": 200, "search": false, "translations": { "all": "Todos los Tipo de Logistica", "items": "  de Logistica Seleccionados", "selectAll": "Check All", "clearAll": "Clear All" } });

            }

            if (id == "lstIdAlmacenCumplSurtido") {

                selectBoxlstIdAlmacenCumplSurtido = new vanillaSelectBox("#lstIdAlmacenCumplSurtido", { "disableSelectAll": true, "maxHeight": 200, "search": false, "translations": { "all": "Todos los Almacenes", "items": "Seleccionados", "selectAll": "Check All", "clearAll": "Clear All" } });

            }
            if (id == "ddlSuppliersCumplSurtido") {
                selectBoxddlSuppliersCumplSurtido = new vanillaSelectBox("#ddlSuppliersCumplSurtido", { "disableSelectAll": false, "maxHeight": 200, "search": false, "translations": { "all": "Todas las Tiendas", "items": "Seleccionados", "selectAll": "Check All", "clearAll": "Clear All" } });
            }
            if (id == "ddlTransCumplSurtido") {

                selectBoxTransCumplSurtido = new vanillaSelectBox("#ddlTransCumplSurtido", { "disableSelectAll": false, "maxHeight": 200, "search": false, "translations": { "all": "Todos los Transportistas", "items": "Transportistas Seleccionados", "selectAll": "Check All", "clearAll": "Clear All" } });

            }
            if (id == "ddlTipoEnvioCumplSurtido") {

                selectBoxTipoEnvioCumplSurtido = new vanillaSelectBox("#ddlTipoEnvioCumplSurtido", { "disableSelectAll": false, "maxHeight": 200, "search": false, "translations": { "all": "Todos los Tipo de Envio", "items": " Tipo de Envio Seleccionados", "selectAll": "Check All", "clearAll": "Clear All" } });

            }
            if (id == "ddlTipoServicioCumplSurtido") {

                selectBoxTipoServoCumplSurtido = new vanillaSelectBox("#ddlTipoServicioCumplSurtido", { "disableSelectAll": false, "maxHeight": 200, "search": false, "translations": { "all": "Todos los Tipo de Servicios", "items": " Tipo de Servicios Seleccionados ", "selectAll": "Check All", "clearAll": "Clear All" } });

            }
            if (id == "ddlTipoLogisticaCumplSurtido") {

                selectBoxTipoLogisticaCumplSurtido = new vanillaSelectBox("#ddlTipoLogisticaCumplSurtido", { "disableSelectAll": false, "maxHeight": 200, "search": false, "translations": { "all": "Todos los Tipo de Logistica", "items": "  de Logistica Seleccionados", "selectAll": "Check All", "clearAll": "Clear All" } });

            }

            if (id == "lstIdAlmacenCumplTransporte") {

                selectBoxlstIdAlmacenCumplTransporte = new vanillaSelectBox("#lstIdAlmacenCumplTransporte", { "disableSelectAll": true, "maxHeight": 200, "search": false, "translations": { "all": "Todos los Almacenes", "items": "Seleccionados", "selectAll": "Check All", "clearAll": "Clear All" } });

            }
            if (id == "ddlSuppliersCumplTransporte") {
                selectBoxddlSuppliersCumplTransporte = new vanillaSelectBox("#ddlSuppliersCumplTransporte", { "disableSelectAll": false, "maxHeight": 200, "search": false, "translations": { "all": "Todas las Tiendas", "items": "Seleccionados", "selectAll": "Check All", "clearAll": "Clear All" } });
            }
            if (id == "ddlTransCumplTransporte") {

                selectBoxTransCumplTransporte = new vanillaSelectBox("#ddlTransCumplTransporte", { "disableSelectAll": false, "maxHeight": 200, "search": false, "translations": { "all": "Todos los Transportistas", "items": "Transportistas Seleccionados", "selectAll": "Check All", "clearAll": "Clear All" } });

            }
            if (id == "ddlTipoEnvioCumplTransporte") {

                selectBoxTipoEnvioCumplTransporte = new vanillaSelectBox("#ddlTipoEnvioCumplTransporte", { "disableSelectAll": false, "maxHeight": 200, "search": false, "translations": { "all": "Todos los Tipo de Envio", "items": " Tipo de Envio Seleccionados", "selectAll": "Check All", "clearAll": "Clear All" } });

            }
            if (id == "ddlTipoServicioCumplTransporte") {

                selectBoxTipoServoCumplTransporte = new vanillaSelectBox("#ddlTipoServicioCumplTransporte", { "disableSelectAll": false, "maxHeight": 200, "search": false, "translations": { "all": "Todos los Tipo de Servicios", "items": " Tipo de Servicios Seleccionados ", "selectAll": "Check All", "clearAll": "Clear All" } });

            }
            if (id == "ddlTipoLogisticaCumplTransporte") {

                selectBoxTipoLogisticaCumplTransporte = new vanillaSelectBox("#ddlTipoLogisticaCumplTransporte", { "disableSelectAll": false, "maxHeight": 200, "search": false, "translations": { "all": "Todos los Tipo de Logistica", "items": "  de Logistica Seleccionados", "selectAll": "Check All", "clearAll": "Clear All" } });

            }
        }
        function setValuesAlmacen(value) {
            if (selectBox1 != null) {
                selectBox1.setValue(value);
            }
        }
        function setValues(value) {
            if (selectBox2 != null) {
                selectBox2.setValue(value);
            }
        }
        function getValues(id) {
            let result = [];
            let collection = document.querySelectorAll("#" + id + " option");
            collection.forEach(function (x) {
                if (x.selected) {
                    result.push(x.value);
                }
            });

            return result;
        }

        function setValues(id, value) {
            if (id == "ddlTrans" && selectBoxTrans != null) {
                selectBoxTrans.setValue(value);
            }

            if (id == "ddlTipoEnvio" && selectBoxTipoEnvio != null) {
                selectBoxTipoEnvio.setValue(value);
            }

            if (id == "ddlTipoServicio" && selectBoxTipoServo != null) {
                selectBoxTipoServo.setValue(value);
            }

            if (id == "ddlTipoLogistica" && selectBoxTipoLogistica != null) {
                selectBoxTipoLogistica.setValue(value);
            }



            if (id == "lstIdAlmacen" && selectBox1 != null) {
                selectBox1.setValue(value);
            }
            if (id == "ddlSuppliers" && selectBox2 != null) {
                selectBox2.setValue(value);
            }

            if (id == "ddlTransEst" && selectBoxTransEst != null) {
                selectBoxTransEst.setValue(value);
            }

            if (id == "ddlTipoEnvioEst" && selectBoxTipoEnvioEst != null) {
                selectBoxTipoEnvioEst.setValue(value);
            }

            if (id == "ddlTipoServicioEst" && selectBoxTipoServoEst != null) {
                selectBoxTipoServoEst.setValue(value);
            }

            if (id == "ddlTipoLogisticaEst" && selectBoxTipoLogisticaEst != null) {
                selectBoxTipoLogisticaEst.setValue(value);
            }

            if (id == "lstIdAlmacenMapa" && selectBoxlstIdAlmacenMapa != null) {
                selectBoxlstIdAlmacenMapa.setValue(value);
            }
            if (id == "ddlSuppliersMapa" && selectBoxddlSuppliersMapa != null) {
                selectBoxddlSuppliersMapa.setValue(value);
            }

            if (id == "ddlTransMapa" && selectBoxTransMapa != null) {
                selectBoxTransMapa.setValue(value);
            }

            if (id == "ddlTipoEnvioMapa" && selectBoxTipoEnvioMapa != null) {
                selectBoxTipoEnvioMapa.setValue(value);
            }

            if (id == "ddlTipoServicioMapa" && selectBoxTipoServoMapa != null) {
                selectBoxTipoServoMapa.setValue(value);
            }

            if (id == "ddlTipoLogisticaMapa" && selectBoxTipoLogisticaMapa != null) {
                selectBoxTipoLogisticaMapa.setValue(value);
            }

            if (id == "lstIdAlmacenEstDes" && selectBoxlstIdAlmacenEstDes != null) {
                selectBoxlstIdAlmacenEstDes.setValue(value);
            }
            if (id == "ddlSuppliersEstDes" && selectBoxddlSuppliersEstDes != null) {
                selectBoxddlSuppliersEstDes.setValue(value);
            }

            if (id == "ddlTransEstDes" && selectBoxTransEstDes != null) {
                selectBoxTransEstDes.setValue(value);
            }





            if (id == "ddlTipoServicioEstDes" && selectBoxTipoServoEstDes != null) {
                selectBoxTipoServoEstDes.setValue(value);
            }

            if (id == "ddlTipoLogisticaEstDes" && selectBoxTipoLogisticaEstDes != null) {
                selectBoxTipoLogisticaEstDes.setValue(value);
            }


            //if (id == "ddlTransEst" && selectBoxTransEst != null) {
            //    selectBoxTransEst.setValue(value);
            //}

            if (id == "ddlTipoEnvioCumplEntrega" && selectBoxTipoEnvioCumplEntrega != null) {
                selectBoxTipoEnvioCumplEntrega.setValue(value);
            }
            if (id == "lstIdAlmacenCumplEntrega" && selectBoxlstIdAlmacenCumplEntrega != null) {
                selectBoxlstIdAlmacenCumplEntrega.setValue(value);
            }
            if (id == "ddlSuppliersCumplEntrega" && selectBoxddlSuppliersCumplEntrega != null) {
                selectBoxddlSuppliersCumplEntrega.setValue(value);
            }
            if (id == "ddlTransCumplEntrega" && selectBoxTransCumplEntrega != null) {
                selectBoxTransCumplEntrega.setValue(value);
            }
            if (id == "ddlTipoServicioCumplEntrega" && selectBoxTipoServoCumplEntrega != null) {
                selectBoxTipoServoCumplEntrega.setValue(value);
            }
            if (id == "ddlTipoLogisticaCumplEntrega" && selectBoxTipoLogisticaCumplEntrega != null) {
                selectBoxTipoLogisticaCumplEntrega.setValue(value);
            }

            if (id == "ddlTipoEnvioCumplCliente" && selectBoxTipoEnvioCumplCliente != null) {
                selectBoxTipoEnvioCumplCliente.setValue(value);
            }
            if (id == "lstIdAlmacenCumplCliente" && selectBoxlstIdAlmacenCumplCliente != null) {
                selectBoxlstIdAlmacenCumplCliente.setValue(value);
            }
            if (id == "ddlSuppliersCumplCliente" && selectBoxddlSuppliersCumplCliente != null) {
                selectBoxddlSuppliersCumplCliente.setValue(value);
            }
            if (id == "ddlTransCumplCliente" && selectBoxTransCumplCliente != null) {
                selectBoxTransCumplCliente.setValue(value);
            }
            if (id == "ddlTipoServicioCumplCliente" && selectBoxTipoServoCumplCliente != null) {
                selectBoxTipoServoCumplCliente.setValue(value);
            }
            if (id == "ddlTipoLogisticaCumplCliente" && selectBoxTipoLogisticaCumplCliente != null) {
                selectBoxTipoLogisticaCumplCliente.setValue(value);
            }

            if (id == "ddlTipoEnvioCumplSurtido" && selectBoxTipoEnvioCumplSurtido != null) {
                selectBoxTipoEnvioCumplSurtido.setValue(value);
            }
            if (id == "lstIdAlmacenCumplSurtido" && selectBoxlstIdAlmacenCumplSurtido != null) {
                selectBoxlstIdAlmacenCumplSurtido.setValue(value);
            }
            if (id == "ddlSuppliersCumplSurtido" && selectBoxddlSuppliersCumplSurtido != null) {
                selectBoxddlSuppliersCumplSurtido.setValue(value);
            }
            if (id == "ddlTransCumplSurtido" && selectBoxTransCumplSurtido != null) {
                selectBoxTransCumplSurtido.setValue(value);
            }
            if (id == "ddlTipoServicioCumplSurtido" && selectBoxTipoServoCumplSurtido != null) {
                selectBoxTipoServoCumplSurtido.setValue(value);
            }
            if (id == "ddlTipoLogisticaCumplSurtido" && selectBoxTipoLogisticaCumplSurtido != null) {
                selectBoxTipoLogisticaCumplSurtido.setValue(value);
            }

            if (id == "ddlTipoEnvioCumplTransporte" && selectBoxTipoEnvioCumplTransporte != null) {
                selectBoxTipoEnvioCumplTransporte.setValue(value);
            }
            if (id == "lstIdAlmacenCumplTransporte" && selectBoxlstIdAlmacenCumplTransporte != null) {
                selectBoxlstIdAlmacenCumplTransporte.setValue(value);
            }
            if (id == "ddlSuppliersCumplTransporte" && selectBoxddlSuppliersCumplTransporte != null) {
                selectBoxddlSuppliersCumplTransporte.setValue(value);
            }
            if (id == "ddlTransCumplTransporte" && selectBoxTransCumplTransporte != null) {
                selectBoxTransCumplTransporte.setValue(value);
            }
            if (id == "ddlTipoServicioCumplTransporte" && selectBoxTipoServoCumplTransporte != null) {
                selectBoxTipoServoCumplTransporte.setValue(value);
            }
            if (id == "ddlTipoLogisticaCumplTransporte" && selectBoxTipoLogisticaCumplTransporte != null) {
                selectBoxTipoLogisticaCumplTransporte.setValue(value);
            }

        }






        function GraficaCumplimientoEntrega(opc) {

            $("#btnCumplEntrega1").removeClass("active");
            $("#btnCumplEntrega2").removeClass("active");
            $("#btnCumplEntrega3").removeClass("active");
            $("#btnCumplEntrega4").removeClass("active");

            $('#btnCumplEntrega' + opc).addClass('active');

            var count = 1;

            var _TipoFecha = $("#ddlTipoFechaCumplEntrega").val();
            var _TipoPago = $("#ddlTipoPagoCumplEntrega").val();

            //var etiqueta = $("#ddlEstatus option:selected").text();



            var _IdTransportista = getValues('ddlTransCumplEntrega');
            var _IdTipoEnvio = getValues('ddlTipoEnvioCumplEntrega');
            var _IdTipoServicio = getValues('ddlTipoServicioCumplEntrega');
            var _IdTipoLogistica = getValues('ddlTipoLogisticaCumplEntrega');

            var _TipoAlmacen = getValues('lstIdAlmacenCumplEntrega');
            var _Almacen = getValues('ddlSuppliersCumplEntrega');



            if (_IdTransportista.length == 0) {
                alert('Debe de Seleccionar minimo un Transportista');
                $("#ddlTransEst").focus();
                return;
            }

            if (_IdTipoEnvio.length == 0) {
                alert('Debe de Seleccionar minimo un Tipo de envío');
                $("#ddlTipoEnvioEst").focus();
                return;
            }

            if (_IdTipoServicio.length == 0) {
                alert('Debe de Seleccionar minimo un Tipo de Servicio');
                $("#ddlTipoServicioEst").focus();
                return;
            }

            if (_IdTipoLogistica.length == 0) {
                alert('Debe de Seleccionar minimo un Tipo de Logistica');
                $("#ddlTipoLogisticaEst").focus();
                return;
            }

            //if (origen != 0) {
                if (_TipoAlmacen.length == 0) {
                    alert('Debe de Seleccionar minimo un Almacen y una Tienda/Proveedor');
                    $("#lstIdAlmacen").focus();
                    return;
                }

                if (_Almacen.length == 0) {
                    alert('Debe de Seleccionar minimo un Almacen y una Tienda/Proveedor');
                    $("#ddlSuppliers").focus();
                    return;
                }
            //}

            var _json = [];

            getValues('ddlSuppliersCumplEntrega').forEach(x => {

                let _obj = {};
                _obj.IdTienda = x.split('-')[0];
                _obj.IdOwner = x.split('-')[1];
                _obj.Nombre = x.split('-')[2];
                _obj.NombreProveedor = x.split('-')[3];
                _json.push(_obj);

                count = count + 1;
            });




            var fecIni = $("#txtFecCumplEntregaIni").val();
            var fecFin = $("#txtFecCumplEntregaFin").val();
             $.ajax({
                async: false,
                type: "POST",
                 url: '@Url.Action("CumplimientoEntrega", "TMS")',
                 data: {
                     FecIni: fecIni,
                     FecFin: fecFin,
                     op: opc,
                     IdTransportista: _IdTransportista.join(','),
                     IdTipoEnvio: _IdTipoEnvio.join(','),
                     IdTipoServicio: _IdTipoServicio.join(','),
                     IdTipoLogistica: _IdTipoLogistica.join(','),
                     TipoFecha: _TipoFecha,
                     TipoPago: _TipoPago,
                     json: JSON.stringify(_json)
                 },
                datatype: "html",
                 success: function (data) {

                     if (data.Success) {

                         var dataEntrega = [];
                         var dataTransporte = [];
                         var dataSurtido = [];

                         for (var i = 0; i < data.Entrega.length; i++) {
                             dataEntrega.push([gd(data.Entrega[i].Anio, data.Entrega[i].Mes, data.Entrega[i].Dia), data.Entrega[i].Valor]);
                         }
                         for (var i = 0; i < data.Transporte.length; i++) {
                             dataTransporte.push([gd(data.Transporte[i].Anio, data.Transporte[i].Mes, data.Transporte[i].Dia), data.Transporte[i].Valor]);
                         }
                         for (var i = 0; i < data.Surtido.length; i++) {
                             dataSurtido.push([gd(data.Surtido[i].Anio, data.Surtido[i].Mes, data.Surtido[i].Dia), data.Surtido[i].Valor]);
                         }

                         var dataset = [
                             { label: "Entrega al cliente", data: dataEntrega, points: { symbol: "triangle" } },
                             //{ label: "Entrega al cliente", data: dataEntrega },
                             { label: "Surtido", data: dataSurtido },
                             { label: "Transporte", data: dataTransporte }
                         ];


                         var options = {
                             series: {
                                 lines: {
                                     show: true
                                 },
                                 points: {
                                     radius: 3,
                                     fill: true,
                                     show: true
                                 }
                             },
                             xaxis: {
                                 mode: "time",
                                 tickSize: [1, "day"],
                                 tickLength: 0,
                                 axisLabel: "2012",
                                 axisLabelUseCanvas: true,
                                 axisLabelFontSizePixels: 12,
                                 axisLabelFontFamily: 'Verdana, Arial',
                                 axisLabelPadding: 10
                             },
                             yaxes: [{
                                 axisLabel: "Cantidad",
                                 axisLabelUseCanvas: true,
                                 axisLabelFontSizePixels: 12,
                                 axisLabelFontFamily: 'Verdana, Arial',
                                 axisLabelPadding: 3,
                                 tickFormatter: function (val, axis) { return val  + "%" }
                             }, {
                                 position: "right",
                                 axisLabel: "Change(%)",
                                 axisLabelUseCanvas: true,
                                 axisLabelFontSizePixels: 12,
                                 axisLabelFontFamily: 'Verdana, Arial',
                                 axisLabelPadding: 3
                             }
                             ],
                             legend: {
                                 show: true,
                                 container: $('#legend-container')
                                 //noColumns: 0,
                                 //labelBoxBorderColor: "#000000",
                                 //position: "nw"
                             },
                             grid: {
                                 hoverable: true,
                                 borderWidth: 0,
                                 borderColor: "#633200",
                                 backgroundColor: { colors: ["#ffffff", "#EDF5FF"] }
                             },
                             colors: ["#FFF200", "#0022FF", "#FF00E8"]
                         };

                         if (opc == 3) {
                             options = {
                                 series: {
                                     lines: {
                                         show: true
                                     },
                                     points: {
                                         radius: 3,
                                         fill: true,
                                         show: true
                                     }
                                 },
                                 xaxis: {
                                     mode: "time",
                                     tickSize: [1, "month"],
                                     tickLength: 0,
                                     axisLabel: "2012",
                                     axisLabelUseCanvas: true,
                                     axisLabelFontSizePixels: 12,
                                     axisLabelFontFamily: 'Verdana, Arial',
                                     axisLabelPadding: 10
                                 },
                                 yaxes: [{
                                     axisLabel: "Cantidad",
                                     axisLabelUseCanvas: true,
                                     axisLabelFontSizePixels: 12,
                                     axisLabelFontFamily: 'Verdana, Arial',
                                     axisLabelPadding: 3,
                                     tickFormatter: function (val, axis) { return val + "%" }
                                 }, {
                                     position: "right",
                                     axisLabel: "Change(%)",
                                     axisLabelUseCanvas: true,
                                     axisLabelFontSizePixels: 12,
                                     axisLabelFontFamily: 'Verdana, Arial',
                                     axisLabelPadding: 3
                                 }
                                 ],
                                 legend: {
                                     show: true,
                                     container: $('#legend-container')
                                     //noColumns: 0,
                                     //labelBoxBorderColor: "#000000",
                                     //position: "nw"
                                 },
                                 grid: {
                                     hoverable: true,
                                     borderWidth: 0,
                                     borderColor: "#633200",
                                     backgroundColor: { colors: ["#ffffff", "#EDF5FF"] }
                                 },
                                 colors: ["#FFF200", "#0022FF", "#FF00E8"]
                             };
                         }

                         $.plot($("#flot-Chart-Line"), dataset, options);
                         $("#flot-Chart-Line").UseTooltip();
                     }
                     else {
                         alert(data.Message);
                     }
                 }
                 , error: function (jqXHR, textStatus, errorThrown) {
                     alert(errorThrown);

                 }
             });
        }

        function GraficaCumplCliente(opc) {

            $("#btnCumplCliente1").removeClass("active");
            $("#btnCumplCliente2").removeClass("active");
            $("#btnCumplCliente3").removeClass("active");
            $("#btnCumplCliente4").removeClass("active");

            $('#btnCumplCliente' + opc).addClass('active');

            var count = 1;

            var _TipoFecha = $("#ddlTipoFechaCumplCliente").val();
            var _TipoPago = $("#ddlTipoPagoCumplCliente").val();

            //var etiqueta = $("#ddlEstatus option:selected").text();



            var _IdTransportista = getValues('ddlTransCumplCliente');
            var _IdTipoEnvio = getValues('ddlTipoEnvioCumplCliente');
            var _IdTipoServicio = getValues('ddlTipoServicioCumplCliente');
            var _IdTipoLogistica = getValues('ddlTipoLogisticaCumplCliente');

            var _TipoAlmacen = getValues('lstIdAlmacenCumplCliente');
            var _Almacen = getValues('ddlSuppliersCumplCliente');



            if (_IdTransportista.length == 0) {
                alert('Debe de Seleccionar minimo un Transportista');
                $("#ddlTransCumplCliente").focus();
                return;
            }

            if (_IdTipoEnvio.length == 0) {
                alert('Debe de Seleccionar minimo un Tipo de envío');
                $("#ddlTipoEnvioCumplCliente").focus();
                return;
            }

            if (_IdTipoServicio.length == 0) {
                alert('Debe de Seleccionar minimo un Tipo de Servicio');
                $("#ddlTipoServicioCumplCliente").focus();
                return;
            }

            if (_IdTipoLogistica.length == 0) {
                alert('Debe de Seleccionar minimo un Tipo de Logistica');
                $("#ddlTipoLogisticaCumplCliente").focus();
                return;
            }

            //if (origen != 0) {
                if (_TipoAlmacen.length == 0) {
                    alert('Debe de Seleccionar minimo un Almacen y una Tienda/Proveedor');
                    $("#lstIdAlmacenCumplCliente").focus();
                    return;
                }

                if (_Almacen.length == 0) {
                    alert('Debe de Seleccionar minimo un Almacen y una Tienda/Proveedor');
                    $("#ddlSuppliersCumplCliente").focus();
                    return;
                }
            //}

            var _json = [];

            getValues('ddlSuppliersCumplCliente').forEach(x => {

                let _obj = {};
                _obj.IdTienda = x.split('-')[0];
                _obj.IdOwner = x.split('-')[1];
                _obj.Nombre = x.split('-')[2];
                _obj.NombreProveedor = x.split('-')[3];
                _json.push(_obj);

                count = count + 1;
            });




            var fecIni = $("#txtFecCumplClienteIni").val();
            var fecFin = $("#txtFecCumplClienteFin").val();
             $.ajax({
                async: false,
                type: "POST",
                 url: '@Url.Action("CumplCliente", "TMS")',
                 data: {
                     FecIni: fecIni,
                     FecFin: fecFin,
                     op: opc,
                     IdTransportista: _IdTransportista.join(','),
                     IdTipoEnvio: _IdTipoEnvio.join(','),
                     IdTipoServicio: _IdTipoServicio.join(','),
                     IdTipoLogistica: _IdTipoLogistica.join(','),
                     TipoFecha: _TipoFecha,
                     TipoPago: _TipoPago,
                     json: JSON.stringify(_json)
                 },
                datatype: "html",
                 success: function (data) {

                     if (data.Success) {

                         var dataPaqueteria = [];
                         var dataBigTicket = [];
                         var dataGeneral = [];

                         for (var i = 0; i < data.Paqueteria.length; i++) {
                             dataPaqueteria.push([gd(data.Paqueteria[i].Anio, data.Paqueteria[i].Mes, data.Paqueteria[i].Dia), data.Paqueteria[i].Valor]);
                         }
                         for (var i = 0; i < data.BigTicket.length; i++) {
                             dataBigTicket.push([gd(data.BigTicket[i].Anio, data.BigTicket[i].Mes, data.BigTicket[i].Dia), data.BigTicket[i].Valor]);
                         }
                         for (var i = 0; i < data.General.length; i++) {
                             dataGeneral.push([gd(data.General[i].Anio, data.General[i].Mes, data.General[i].Dia), data.General[i].Valor]);
                         }

                         var dataset = [
                             { label: "Paqueteria", data: dataPaqueteria, points: { symbol: "triangle" } },
                             { label: "BigTicket", data: dataBigTicket },
                             { label: "General", data: dataGeneral }
                         ];


                         var options = {
                             series: {
                                 lines: {
                                     show: true
                                 },
                                 points: {
                                     radius: 3,
                                     fill: true,
                                     show: true
                                 }
                             },
                             xaxis: {
                                 mode: "time",
                                 tickSize: [1, "day"],
                                 tickLength: 0,
                                 axisLabel: "2012",
                                 axisLabelUseCanvas: true,
                                 axisLabelFontSizePixels: 12,
                                 axisLabelFontFamily: 'Verdana, Arial',
                                 axisLabelPadding: 10
                             },
                             yaxes: [{
                                 axisLabel: "Cantidad",
                                 axisLabelUseCanvas: true,
                                 axisLabelFontSizePixels: 12,
                                 axisLabelFontFamily: 'Verdana, Arial',
                                 axisLabelPadding: 3,
                                 tickFormatter: function (val, axis) { return val + "%" }
                             }, {
                                 position: "right",
                                 axisLabel: "Change(%)",
                                 axisLabelUseCanvas: true,
                                 axisLabelFontSizePixels: 12,
                                 axisLabelFontFamily: 'Verdana, Arial',
                                 axisLabelPadding: 3
                             }
                             ],
                             legend: {
                                 show: true,
                                 container: $('#legend-container2')
                                 //noColumns: 0,
                                 //labelBoxBorderColor: "#000000",
                                 //position: "nw"
                             },
                             grid: {
                                 hoverable: true,
                                 borderWidth: 0,
                                 borderColor: "#633200",
                                 backgroundColor: { colors: ["#ffffff", "#EDF5FF"] }
                             },
                             colors: ["#FFF200", "#0022FF", "#FF00E8"]
                         };

                         if (opc == 3) {
                             options = {
                                 series: {
                                     lines: {
                                         show: true
                                     },
                                     points: {
                                         radius: 3,
                                         fill: true,
                                         show: true
                                     }
                                 },
                                 xaxis: {
                                     mode: "time",
                                     tickSize: [1, "month"],
                                     tickLength: 0,
                                     axisLabel: "2012",
                                     axisLabelUseCanvas: true,
                                     axisLabelFontSizePixels: 12,
                                     axisLabelFontFamily: 'Verdana, Arial',
                                     axisLabelPadding: 10
                                 },
                                 yaxes: [{
                                     axisLabel: "Cantidad",
                                     axisLabelUseCanvas: true,
                                     axisLabelFontSizePixels: 12,
                                     axisLabelFontFamily: 'Verdana, Arial',
                                     axisLabelPadding: 3,
                                     tickFormatter: function (val, axis) { return val + "%" }
                                 }, {
                                     position: "right",
                                     axisLabel: "Change(%)",
                                     axisLabelUseCanvas: true,
                                     axisLabelFontSizePixels: 12,
                                     axisLabelFontFamily: 'Verdana, Arial',
                                     axisLabelPadding: 3
                                 }
                                 ],
                                 legend: {
                                     show: true,
                                     container: $('#legend-container2')
                                     //noColumns: 0,
                                     //labelBoxBorderColor: "#000000",
                                     //position: "nw"
                                 },
                                 grid: {
                                     hoverable: true,
                                     borderWidth: 0,
                                     borderColor: "#633200",
                                     backgroundColor: { colors: ["#ffffff", "#EDF5FF"] }
                                 },
                                 colors: ["#FFF200", "#0022FF", "#FF00E8"]
                             };
                         }

                         $.plot($("#flot-Chart-CumplCliente"), dataset, options);
                         $("#flot-Chart-CumplCliente").UseTooltip();
                     }
                     else {
                         alert('error: '+data.Message);
                     }
                 }
                 , error: function (jqXHR, textStatus, errorThrown) {
                     debugger;
                     alert('error 2: ' + errorThrown);

                 }
             });
        }

        function GraficaCumplSurtido(opc) {

            $("#btnCumplSurtido1").removeClass("active");
            $("#btnCumplSurtido2").removeClass("active");
            $("#btnCumplSurtido3").removeClass("active");
            $("#btnCumplSurtido4").removeClass("active");

            $('#btnCumplSurtido' + opc).addClass('active');

            var count = 1;

            var _TipoFecha = $("#ddlTipoFechaCumplSurtido").val();
            var _TipoPago = $("#ddlTipoPagoCumplSurtido").val();

            //var etiqueta = $("#ddlEstatus option:selected").text();



            var _IdTransportista = getValues('ddlTransCumplSurtido');
            var _IdTipoEnvio = getValues('ddlTipoEnvioCumplSurtido');
            var _IdTipoServicio = getValues('ddlTipoServicioCumplSurtido');
            var _IdTipoLogistica = getValues('ddlTipoLogisticaCumplSurtido');

            var _TipoAlmacen = getValues('lstIdAlmacenCumplSurtido');
            var _Almacen = getValues('ddlSuppliersCumplSurtido');



            if (_IdTransportista.length == 0) {
                alert('Debe de Seleccionar minimo un Transportista');
                $("#ddlTransCumplSurtido").focus();
                return;
            }

            if (_IdTipoEnvio.length == 0) {
                alert('Debe de Seleccionar minimo un Tipo de envío');
                $("#ddlTipoEnvioCumplSurtido").focus();
                return;
            }

            if (_IdTipoServicio.length == 0) {
                alert('Debe de Seleccionar minimo un Tipo de Servicio');
                $("#ddlTipoServicioCumplSurtido").focus();
                return;
            }

            if (_IdTipoLogistica.length == 0) {
                alert('Debe de Seleccionar minimo un Tipo de Logistica');
                $("#ddlTipoLogisticaCumplSurtido").focus();
                return;
            }

            //if (origen != 0) {
                if (_TipoAlmacen.length == 0) {
                    alert('Debe de Seleccionar minimo un Almacen y una Tienda/Proveedor');
                    $("#lstIdAlmacenCumplSurtido").focus();
                    return;
                }

                if (_Almacen.length == 0) {
                    alert('Debe de Seleccionar minimo un Almacen y una Tienda/Proveedor');
                    $("#ddlSuppliersCumplSurtido").focus();
                    return;
                }
            //}

            var _json = [];

            getValues('ddlSuppliersCumplSurtido').forEach(x => {

                let _obj = {};
                _obj.IdTienda = x.split('-')[0];
                _obj.IdOwner = x.split('-')[1];
                _obj.Nombre = x.split('-')[2];
                _obj.NombreProveedor = x.split('-')[3];
                _json.push(_obj);

                count = count + 1;
            });




            var fecIni = $("#txtFecCumplSurtidoIni").val();
            var fecFin = $("#txtFecCumplSurtidoFin").val();
             $.ajax({
                async: false,
                type: "POST",
                 url: '@Url.Action("CumplSurtido", "TMS")',
                 data: {
                     FecIni: fecIni,
                     FecFin: fecFin,
                     op: opc,
                     IdTransportista: _IdTransportista.join(','),
                     IdTipoEnvio: _IdTipoEnvio.join(','),
                     IdTipoServicio: _IdTipoServicio.join(','),
                     IdTipoLogistica: _IdTipoLogistica.join(','),
                     TipoFecha: _TipoFecha,
                     TipoPago: _TipoPago,
                     json: JSON.stringify(_json)
                 },
                datatype: "html",
                 success: function (data) {

                     if (data.Success) {

                         var dataCEDIS = [];
                         var dataDSV = [];
                         var dataDST = [];

                         for (var i = 0; i < data.CEDIS.length; i++) {
                             dataCEDIS.push([gd(data.CEDIS[i].Anio, data.CEDIS[i].Mes, data.CEDIS[i].Dia), data.CEDIS[i].Valor]);
                         }
                         for (var i = 0; i < data.DSV.length; i++) {
                             dataDSV.push([gd(data.DSV[i].Anio, data.DSV[i].Mes, data.DSV[i].Dia), data.DSV[i].Valor]);
                         }
                         for (var i = 0; i < data.DST.length; i++) {
                             dataDST.push([gd(data.DST[i].Anio, data.DST[i].Mes, data.DST[i].Dia), data.DST[i].Valor]);
                         }

                         var dataset = [
                             { label: "CEDIS", data: dataCEDIS, points: { symbol: "triangle" } },
                             { label: "DSV", data: dataDSV },
                             { label: "DST", data: dataDST }
                         ];


                         var options = {
                             series: {
                                 lines: {
                                     show: true
                                 },
                                 points: {
                                     radius: 3,
                                     fill: true,
                                     show: true
                                 }
                             },
                             xaxis: {
                                 mode: "time",
                                 tickSize: [1, "day"],
                                 tickLength: 0,
                                 axisLabel: "2012",
                                 axisLabelUseCanvas: true,
                                 axisLabelFontSizePixels: 12,
                                 axisLabelFontFamily: 'Verdana, Arial',
                                 axisLabelPadding: 10
                             },
                             yaxes: [{
                                 axisLabel: "Cantidad",
                                 axisLabelUseCanvas: true,
                                 axisLabelFontSizePixels: 12,
                                 axisLabelFontFamily: 'Verdana, Arial',
                                 axisLabelPadding: 3,
                                 tickFormatter: function (val, axis) { return val + "%" }
                             }, {
                                 position: "right",
                                 axisLabel: "Change(%)",
                                 axisLabelUseCanvas: true,
                                 axisLabelFontSizePixels: 12,
                                 axisLabelFontFamily: 'Verdana, Arial',
                                 axisLabelPadding: 3
                             }
                             ],
                             legend: {
                                 show: true,
                                 container: $('#legend-container4')
                                 //noColumns: 0,
                                 //labelBoxBorderColor: "#000000",
                                 //position: "nw"
                             },
                             grid: {
                                 hoverable: true,
                                 borderWidth: 0,
                                 borderColor: "#633200",
                                 backgroundColor: { colors: ["#ffffff", "#EDF5FF"] }
                             },
                             colors: ["#FFF200", "#0022FF", "#FF00E8"]
                         };

                         if (opc == 3) {
                             options = {
                                 series: {
                                     lines: {
                                         show: true
                                     },
                                     points: {
                                         radius: 3,
                                         fill: true,
                                         show: true
                                     }
                                 },
                                 xaxis: {
                                     mode: "time",
                                     tickSize: [1, "month"],
                                     tickLength: 0,
                                     axisLabel: "2012",
                                     axisLabelUseCanvas: true,
                                     axisLabelFontSizePixels: 12,
                                     axisLabelFontFamily: 'Verdana, Arial',
                                     axisLabelPadding: 10
                                 },
                                 yaxes: [{
                                     axisLabel: "Cantidad",
                                     axisLabelUseCanvas: true,
                                     axisLabelFontSizePixels: 12,
                                     axisLabelFontFamily: 'Verdana, Arial',
                                     axisLabelPadding: 3,
                                     tickFormatter: function (val, axis) { return val + "%" }
                                 }, {
                                     position: "right",
                                     axisLabel: "Change(%)",
                                     axisLabelUseCanvas: true,
                                     axisLabelFontSizePixels: 12,
                                     axisLabelFontFamily: 'Verdana, Arial',
                                     axisLabelPadding: 3
                                 }
                                 ],
                                 legend: {
                                     show: true,
                                     container: $('#legend-container4')
                                     //noColumns: 0,
                                     //labelBoxBorderColor: "#000000",
                                     //position: "nw"
                                 },
                                 grid: {
                                     hoverable: true,
                                     borderWidth: 0,
                                     borderColor: "#633200",
                                     backgroundColor: { colors: ["#ffffff", "#EDF5FF"] }
                                 },
                                 colors: ["#FFF200", "#0022FF", "#FF00E8"]
                             };
                         }

                         $.plot($("#flot-Chart-CumplSurtido"), dataset, options);
                         $("#flot-Chart-CumplSurtido").UseTooltip();
                     }
                     else {
                         alert('error: '+data.Message);
                     }
                 }
                 , error: function (jqXHR, textStatus, errorThrown) {
                     debugger;
                     alert('error 2: ' + errorThrown);

                 }
             });
        }

        function GraficaCumplTransporte(opc) {

            $("#btnCumplTransporte1").removeClass("active");
            $("#btnCumplTransporte2").removeClass("active");
            $("#btnCumplTransporte3").removeClass("active");
            $("#btnCumplTransporte4").removeClass("active");

            $('#btnCumplTransporte' + opc).addClass('active');

            var count = 1;

            var _TipoFecha = $("#ddlTipoFechaCumplTransporte").val();
            var _TipoPago = $("#ddlTipoPagoCumplTransporte").val();

            //var etiqueta = $("#ddlEstatus option:selected").text();



            var _IdTransportista = getValues('ddlTransCumplTransporte');
            var _IdTipoEnvio = getValues('ddlTipoEnvioCumplTransporte');
            var _IdTipoServicio = getValues('ddlTipoServicioCumplTransporte');
            var _IdTipoLogistica = getValues('ddlTipoLogisticaCumplTransporte');

            var _TipoAlmacen = getValues('lstIdAlmacenCumplTransporte');
            var _Almacen = getValues('ddlSuppliersCumplTransporte');



            if (_IdTransportista.length == 0) {
                alert('Debe de Seleccionar minimo un Transportista');
                $("#ddlTransCumplTransporte").focus();
                return;
            }

            if (_IdTipoEnvio.length == 0) {
                alert('Debe de Seleccionar minimo un Tipo de envío');
                $("#ddlTipoEnvioCumplTransporte").focus();
                return;
            }

            if (_IdTipoServicio.length == 0) {
                alert('Debe de Seleccionar minimo un Tipo de Servicio');
                $("#ddlTipoServicioCumplTransporte").focus();
                return;
            }

            if (_IdTipoLogistica.length == 0) {
                alert('Debe de Seleccionar minimo un Tipo de Logistica');
                $("#ddlTipoLogisticaCumplTransporte").focus();
                return;
            }

            //if (origen != 0) {
                if (_TipoAlmacen.length == 0) {
                    alert('Debe de Seleccionar minimo un Almacen y una Tienda/Proveedor');
                    $("#lstIdAlmacenCumplTransporte").focus();
                    return;
                }

                if (_Almacen.length == 0) {
                    alert('Debe de Seleccionar minimo un Almacen y una Tienda/Proveedor');
                    $("#ddlSuppliersCumplTransporte").focus();
                    return;
                }
            //}

            var _json = [];

            getValues('ddlSuppliersCumplTransporte').forEach(x => {

                let _obj = {};
                _obj.IdTienda = x.split('-')[0];
                _obj.IdOwner = x.split('-')[1];
                _obj.Nombre = x.split('-')[2];
                _obj.NombreProveedor = x.split('-')[3];
                _json.push(_obj);

                count = count + 1;
            });




            var fecIni = $("#txtFecCumplTransporteIni").val();
            var fecFin = $("#txtFecCumplTransporteFin").val();
             $.ajax({
                async: false,
                type: "POST",
                 url: '@Url.Action("CumplTransporte", "TMS")',
                 data: {
                     FecIni: fecIni,
                     FecFin: fecFin,
                     op: opc,
                     IdTransportista: _IdTransportista.join(','),
                     IdTipoEnvio: _IdTipoEnvio.join(','),
                     IdTipoServicio: _IdTipoServicio.join(','),
                     IdTipoLogistica: _IdTipoLogistica.join(','),
                     TipoFecha: _TipoFecha,
                     TipoPago: _TipoPago,
                     json: JSON.stringify(_json)
                 },
                datatype: "html",
                 success: function (data) {

                     if (data.Success) {

                         var dataset = [];
                         debugger;
                         for (var i = 0; i < data.Tendencias.length; i++) {
                             var datasetTendencias = [];
                             for (var x = 0; x < data.Data.length; x++) {
                                 if (data.Data[x].Tendencia == data.Tendencias[i]) {
                                     datasetTendencias.push([gd(data.Data[x].Anio, data.Data[x].Mes, data.Data[x].Dia), data.Data[x].Valor]);
                                 }
                             }
                             let _obj = {};
                             _obj.label = data.Tendencias[i];
                             _obj.data = datasetTendencias;
                             dataset.push(_obj);
                         }

                         console.log(dataset);
                         //for (var i = 0; i < data.DST.length; i++) {
                         //    dataDST.push([gd(data.DST[i].Anio, data.DST[i].Mes, data.DST[i].Dia), data.DST[i].Valor]);
                         //}

                         //var dataset = [
                         //    { label: "CEDIS", data: dataCEDIS, points: { symbol: "triangle" } },
                         //    { label: "DSV", data: dataDSV },
                         //    { label: "DST", data: dataDST }
                         //];


                         var options = {
                             series: {
                                 lines: {
                                     show: true
                                 },
                                 points: {
                                     radius: 3,
                                     fill: true,
                                     show: true
                                 }
                             },
                             xaxis: {
                                 mode: "time",
                                 tickSize: [1, "day"],
                                 tickLength: 0,
                                 axisLabel: "2012",
                                 axisLabelUseCanvas: true,
                                 axisLabelFontSizePixels: 12,
                                 axisLabelFontFamily: 'Verdana, Arial',
                                 axisLabelPadding: 10
                             },
                             yaxes: [{
                                 axisLabel: "Cantidad",
                                 axisLabelUseCanvas: true,
                                 axisLabelFontSizePixels: 12,
                                 axisLabelFontFamily: 'Verdana, Arial',
                                 axisLabelPadding: 3,
                                 tickFormatter: function (val, axis) { return val + "%" }
                             
                             }, {
                                 position: "right",
                                 axisLabel: "Change(%)",
                                 axisLabelUseCanvas: true,
                                 axisLabelFontSizePixels: 12,
                                 axisLabelFontFamily: 'Verdana, Arial',
                                 axisLabelPadding: 3
                             }
                             ],
                             legend: {
                                 show: true,
                                 container: $('#legend-container3')
                                 //noColumns: 0,
                                 //labelBoxBorderColor: "#000000",
                                 //position: "nw"
                             },
                             grid: {
                                 hoverable: true,
                                 borderWidth: 0,
                                 borderColor: "#633200",
                                 backgroundColor: { colors: ["#ffffff", "#EDF5FF"] }
                             },
                             colors: ["#FFF200", "#0022FF", "#FF00E8"]
                         };

                         if (opc == 3) {
                             options = {
                                 series: {
                                     lines: {
                                         show: true
                                     },
                                     points: {
                                         radius: 3,
                                         fill: true,
                                         show: true
                                     }
                                 },
                                 xaxis: {
                                     mode: "time",
                                     tickSize: [1, "month"],
                                     tickLength: 0,
                                     axisLabel: "2012",
                                     axisLabelUseCanvas: true,
                                     axisLabelFontSizePixels: 12,
                                     axisLabelFontFamily: 'Verdana, Arial',
                                     axisLabelPadding: 10
                                 },
                                 yaxes: [{
                                     axisLabel: "Cantidad",
                                     axisLabelUseCanvas: true,
                                     axisLabelFontSizePixels: 12,
                                     axisLabelFontFamily: 'Verdana, Arial',
                                     axisLabelPadding: 3,
                                     tickFormatter: function (val, axis) { return val + "%" }
                                 }, {
                                     position: "right",
                                     axisLabel: "Change(%)",
                                     axisLabelUseCanvas: true,
                                     axisLabelFontSizePixels: 12,
                                     axisLabelFontFamily: 'Verdana, Arial',
                                     axisLabelPadding: 3
                                 }
                                 ],
                                 legend: {
                                     show: true,
                                     container: $('#legend-container3')
                                     //noColumns: 0,
                                     //labelBoxBorderColor: "#000000",
                                     //position: "nw"
                                 },
                                 grid: {
                                     hoverable: true,
                                     borderWidth: 0,
                                     borderColor: "#633200",
                                     backgroundColor: { colors: ["#ffffff", "#EDF5FF"] }
                                 },
                                 colors: ["#FFF200", "#0022FF", "#FF00E8"]
                             };
                         }

                         $.plot($("#flot-Chart-CumplTransporte"), dataset, options);
                         $("#flot-Chart-CumplTransporte").UseTooltip();
                     }
                     else {
                         alert('error: '+data.Message);
                     }
                 }
                 , error: function (jqXHR, textStatus, errorThrown) {
                     debugger;
                     alert('error 2: ' + errorThrown);

                 }
             });
        }

        var previousPoint = null, previousLabel = null;
        var monthNames = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];

        $.fn.UseTooltip = function () {
            $(this).bind("plothover", function (event, pos, item) {
                if (item) {
                    if ((previousLabel != item.series.label) || (previousPoint != item.dataIndex)) {
                        previousPoint = item.dataIndex;
                        previousLabel = item.series.label;
                        $("#tooltip").remove();

                        var x = item.datapoint[0];
                        var y = item.datapoint[1];

                        var color = item.series.color;
                        var month = new Date(x).getMonth();

                        //console.log(item);

                        if (item.seriesIndex == 0) {
                            showTooltip(item.pageX,
                                item.pageY,
                                color,
                                "<strong>" + item.series.label + "</strong><br>" + monthNames[month] + " : <strong>" + y + "</strong>");
                        } else {
                            showTooltip(item.pageX,
                                item.pageY,
                                color,
                                "<strong>" + item.series.label + "</strong><br>" + monthNames[month] + " : <strong>" + y + "</strong>(%)");
                        }
                    }
                } else {
                    $("#tooltip").remove();
                    previousPoint = null;
                }
            });
        };

        function showTooltip(x, y, color, contents) {
            $('<div id="tooltip">' + contents + '</div>').css({
                position: 'absolute',
                display: 'none',
                top: y - 40,
                left: x - 20,
                border: '2px solid ' + color,
                padding: '3px',
                'font-size': '9px',
                'border-radius': '5px',
                'background-color': '#fff',
                'font-family': 'Verdana, Arial, Helvetica, Tahoma, sans-serif',
                opacity: 0.9
            }).appendTo("body").fadeIn(200);
        }
    </script>

}
